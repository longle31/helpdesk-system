(this.webpackJsonpemployee=this.webpackJsonpemployee||[]).push([[0],{26:function(e,t,r){},35:function(e,t,r){},36:function(e,t,r){},37:function(e,t,r){},48:function(e,t,r){"use strict";r.r(t);var a,n=r(0),c=r(1),i=r.n(c),s=r(19),o=r.n(s),l=(r(35),r(36),r(5)),u=(r(37),r(16)),d=document.location.host,p=function(){var e=Object(c.useState)(0),t=Object(l.a)(e,2),r=t[0],a=t[1];return Object(n.jsx)("div",{className:"wrapper",children:Object(n.jsxs)("nav",{id:"sidebar",children:[Object(n.jsx)("div",{className:"sidebar-header"}),Object(n.jsxs)("ul",{className:"list-unstyled components",children:[Object(n.jsx)("li",{className:0===r?"active":"",children:Object(n.jsx)(u.b,{to:"/reporting/home",onClick:function(){return a(0)},children:Object(n.jsx)("i",{className:"fa fa-home reg-icon","aria-hidden":"true"})})}),Object(n.jsx)("li",{className:1===r?"active":"",children:Object(n.jsx)(u.b,{to:"/reporting/user",onClick:function(){return a(1)},children:Object(n.jsx)("i",{className:"fa fa-address-card-o reg-icon","aria-hidden":"true"})})}),Object(n.jsx)("li",{className:2===r?"active":"",children:Object(n.jsx)(u.b,{to:"/reporting/reports",onClick:function(){return a(2)},children:Object(n.jsx)("i",{className:"fa fa-file-text reg-icon","aria-hidden":"true"})})}),Object(n.jsx)("li",{children:Object(n.jsx)(u.b,{onClick:function(){fetch("http://".concat(d,"/logout"),{method:"GET"}),window.location.replace("http://".concat(d,"/logout"))},children:Object(n.jsx)("i",{className:"fa fa-sign-out reg-icon","aria-hidden":"true"})})})]})]})})},j=r(8),b=r(4),O=r(2),m=r(7),f=r(6),h=r.n(f),x=r(10),v=r(29),g=document.location.host.toString();function N(e){return y.apply(this,arguments)}function y(){return(y=Object(x.a)(h.a.mark((function e(t){var r,a,n,c,i,s,o,l=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},a=r.body,n=Object(v.a)(r,["body"]),c={"Content-Type":"application/json"},i=Object(O.a)(Object(O.a)({method:a?"POST":"GET"},n),{},{headers:Object(O.a)(Object(O.a)({},c),n.headers)}),a&&(i.body=JSON.stringify(a)),e.prev=4,e.next=7,window.fetch("http://".concat(g,"/").concat(t),i);case 7:if(401!==(o=e.sent).status){e.next=12;break}return window.location.assign(window.location),e.abrupt("return");case 12:return e.next=14,o.json();case 14:if(s=e.sent,!o.ok){e.next=17;break}return e.abrupt("return",s);case 17:throw new Error(o.statusText);case 20:return e.prev=20,e.t0=e.catch(4),e.abrupt("return",Promise.reject(e.t0.message?e.t0.message:s));case 23:case"end":return e.stop()}}),e,null,[[4,20]])})))).apply(this,arguments)}N.get=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return N(e,Object(O.a)(Object(O.a)({},t),{},{method:"GET"}))},N.post=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return N(e,Object(O.a)(Object(O.a)({},r),{},{body:t,method:"POST"}))},N.delete=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return N(e,Object(O.a)(Object(O.a)({},t),{},{method:"DELETE"}))},N.put=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return N(e,Object(O.a)(Object(O.a)({},r),{},{body:t,method:"PUT"}))};var S,k,w=r(11),D=w.createSlice,C=w.createEntityAdapter,I=w.createAsyncThunk,T=C({selectId:function(e){return e._id}}),M=I("devices/fetchDevices",function(){var e=Object(x.a)(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("api/employees/".concat(t,"/devices"));case 2:return r=e.sent,e.abrupt("return",r.devices);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),F=(I("devices/fetchDevise",Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("api/devices");case 2:return t=e.sent,e.abrupt("return",t.devices);case 4:case"end":return e.stop()}}),e)})))),D({name:"devices",initialState:T.getInitialState({status:"idle",error:null}),reducers:{},extraReducers:(a={},Object(b.a)(a,M.pending,(function(e,t){e.status="loading"})),Object(b.a)(a,M.rejected,(function(e,t){e.status="failed"})),Object(b.a)(a,M.fulfilled,(function(e,t){e.status="succeeded",T.upsertMany(e,t.payload)})),a)})),E=T.getSelectors((function(e){return e.devices})),R=E.selectAll,_=(E.selectById,F.reducer),A=r(11),L=Object(A.createEntityAdapter)({selectId:function(e){return e._id}}),B=Object(A.createAsyncThunk)("reports/fetchReportsByEmployeeId",function(){var e=Object(x.a)(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("api/reports/employee/".concat(t));case 2:return r=e.sent,e.abrupt("return",r.reports);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),P=Object(A.createAsyncThunk)("reports/deleteReport",function(){var e=Object(x.a)(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.delete("api/reports/".concat(t));case 2:return r=e.sent,e.abrupt("return",r.report);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),U=Object(A.createAsyncThunk)("reports/addNewReport",function(){var e=Object(x.a)(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.post("api/reports",{report:t});case 2:return r=e.sent,e.abrupt("return",r.report);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),G=function(){var e=Object(x.a)(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("api/reports/".concat(t,"/status"));case 2:return r=e.sent,e.abrupt("return",r.status);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=L.getInitialState({status:"idle",error:null,filters:{}}),Y=Object(A.createSlice)({name:"reports",initialState:J,reducers:{},extraReducers:(S={},Object(b.a)(S,B.pending,(function(e,t){e.status="loading"})),Object(b.a)(S,B.fulfilled,(function(e,t){e.status="succeeded",L.upsertMany(e,t.payload)})),Object(b.a)(S,B.rejected,(function(e,t){e.status="failed"})),Object(b.a)(S,U.fulfilled,(function(e,t){return L.addOne(e,t.payload)})),Object(b.a)(S,P.fulfilled,(function(e,t){return L.removeOne(e,t.payload._id)})),S)}),W=L.getSelectors((function(e){return e.reports})),X=W.selectAll,z=(W.selectIds,W.selectById,W.selectEntities,Y.reducer),$=function(e){var t=Object(m.c)((function(e){return e.user.user._id})),r=Object(m.b)(),a=Object(m.c)(R),i=a.map((function(e){return Object(n.jsx)("option",{value:e.deviceName,id:e._id,children:e.deviceName},e._id)})),s=Object(c.useState)({deviceName:a[0].deviceName}),o=Object(l.a)(s,2),u=o[0],d=o[1],p=Object(c.useState)(!1),j=Object(l.a)(p,2),f=j[0],h=j[1],x=Object(c.useState)(!1),v=Object(l.a)(x,2),g=v[0],N=v[1],y=Object(c.useState)({employee:t,device:a[0]._id,title:"",detail:"",status:0}),S=Object(l.a)(y,2),k=S[0],w=S[1];Object(c.useEffect)((function(){h(""!==k.employee&&""!==k.device&&""!==k.title&&""!==k.detail)}),[k]);var D=function(e){var t=e.target.name,r=e.target.value;w(Object(O.a)(Object(O.a)({},k),{},Object(b.a)({},t,r)))};return Object(c.useEffect)((function(){var e=a.find((function(e){return e.deviceName===u.deviceName}))._id;w(Object(O.a)(Object(O.a)({},k),{},{device:e}))}),[u.deviceName]),Object(c.useEffect)((function(){console.log(k.device)}),[k.device]),Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"modal-body",children:[Object(n.jsxs)("picture",{children:[Object(n.jsx)("source",{srcSet:"...",type:"image/svg+xml"}),Object(n.jsx)("img",{srcSet:"...",class:"img-fluid img-thumbnail",alt:"..."})]}),Object(n.jsxs)("div",{className:"input-group flex-nowrap mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:"Device"})}),Object(n.jsx)("select",{className:"form-control",name:"device",id:"device",value:u.deviceName,onChange:function(e){d(Object(O.a)(Object(O.a)({},u),{},{deviceName:e.target.value}))},children:i})]}),Object(n.jsxs)("div",{class:"input-group flex-nowrap mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:"Title"})}),Object(n.jsx)("input",{type:"text",class:"form-control",name:"title",id:"title",onChange:function(e){return D(e)},value:k.title})]}),Object(n.jsxs)("div",{class:"form-group",children:[Object(n.jsx)("label",{htmlFor:"detail",children:"Description"}),Object(n.jsx)("textarea",{class:"form-control",name:"detail",id:"detail",rows:"4",value:k.detail,onChange:function(e){return D(e)}})]})]}),Object(n.jsxs)("div",{className:"modal-footer",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:function(){return e.displayModal(!1,0)},children:"Close"}),"\xa0",Object(n.jsxs)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",disabled:!f,onClick:function(){N(!0),r(U(k)).then((function(){N(!1),w({employee:"",device:"",title:"",detail:"",status:0})})).catch((function(e){N(!1),w({employee:"",device:"",title:"",detail:"",status:0}),alert(e)}))},children:[g?Object(n.jsx)("i",{className:"fa fa-circle-o-notch fa-spin"}):"","\xa0 Save"]})]})]})},q=function(e){var t=e.reportModal,r=e.displayModal,a=(t.isModalDisplayed,t.modalOption);return Object(n.jsx)("div",{className:"modal fade show",style:{display:"block"},id:"taskModal",tabIndex:"-1",role:"dialog","aria-labelledby":"taskModalTitle","aria-hidden":"true",onClick:function(e){!function(e){var t=e.clientX,a=e.clientY,n=document.getElementById("taskModalContent").getBoundingClientRect();0===t||0===a||(t<n.left||t>n.right||a<n.top||a>n.bottom)&&r(!1,0)}(e)},children:Object(n.jsx)("div",{className:"modal-dialog",role:"document",children:Object(n.jsxs)("div",{className:"modal-content",id:"taskModalContent",children:[Object(n.jsxs)("div",{className:"modal-header",children:[Object(n.jsx)("h5",{className:"modal-title",id:"taskModalTitle",children:0===a?"Add New Report":"Analyze Report"}),Object(n.jsx)("button",{type:"button",className:"close","data-":!0,dismiss:"modal","aria-label":"Close",onClick:function(){return r(!1,0)},children:Object(n.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),0===a?Object(n.jsx)($,{displayModal:r}):""]})})})},H=function(e){var t,r=e.report,a=e.setCurrentReport;return Object(n.jsxs)("tr",{onContextMenu:function(e){a(r._id)},children:[Object(n.jsx)("td",{children:r.deviceName}),Object(n.jsx)("td",{children:r.title}),Object(n.jsx)("td",{children:r.reportDate?r.reportDate.toString():""}),Object(n.jsx)("td",{children:(t=r.status,0===t?Object(n.jsx)("span",{className:"badge badge-pill badge-danger",children:"New"}):1===t?Object(n.jsx)("span",{className:"badge badge-pill badge-primary",children:"Solving"}):2===t?Object(n.jsx)("span",{className:"badge badge-pill badge-success",children:"Solved"}):void 0)})]})},K=function(e){var t=e.updateReportFilters,r=e.filters,a=function(e){var r=e.target.name,a=e.target.value;t(r,a)};return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)("input",{type:"text",className:"form-control",name:"deviceNameFilter",id:"deviceNameFilter",placeholder:"searching device",value:r.deviceNameFilter,onChange:function(e){return a(e)}})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{type:"text",className:"form-control",name:"reportTitleFilter",id:"reportTitleFilter",placeholder:"searching title",value:r.reportTitleFilter,onChange:function(e){return a(e)}})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{type:"text",className:"form-control",name:"reportDateFilter",id:"reportDateFilter",placeholder:"searching date",value:r.reportDateFilter,onChange:function(e){return a(e)}})}),Object(n.jsx)("td",{children:Object(n.jsxs)("select",{className:"form-control",name:"reportStatusFilter",id:"reportStatusFilter",value:r.reportStatusFilter,onChange:function(e){return a(e)},children:[Object(n.jsx)("option",{value:-1,children:"all"}),Object(n.jsx)("option",{value:0,children:"new"}),Object(n.jsx)("option",{value:1,children:"solving"}),Object(n.jsx)("option",{value:2,children:"solved"})]})})]})},Q=function(e){var t=e.displayToolbar,r=e.displayModal,a=e.currentReportId,c=e.toolbar,i=Object(m.b)(),s=c.top,o=c.left;c.isDisplay;return Object(n.jsxs)("span",{className:"menu-toolbar",style:{top:s,left:o,display:"block"},children:[Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){t(!1),r(!0,0)},children:Object(n.jsx)("i",{className:"fa fa-plus reg-icon","aria-hidden":"true"})}),"\xa0",Object(n.jsx)("button",{type:"button",class:"btn btn-danger",onClick:function(){G(a).then((function(e){0===e?i(P(a)):alert("cannot delete Report")})).catch((function(e){return alert(e)})),t(!1)},children:Object(n.jsx)("i",{class:"fa fa-trash reg-icon","aria-hidden":"true"})})]})},V=Object(A.createAsyncThunk)("user/fetchUser",function(){var e=Object(x.a)(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("api/employees/".concat(t));case 2:return r=e.sent,e.abrupt("return",r.employee);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Z=Object(A.createAsyncThunk)("user/updateUser",function(){var e=Object(x.a)(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.put("api/employees/".concat(t._id),{employee:t});case 2:return r=e.sent,e.abrupt("return",r.employee);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ee=function(){var e=Object(x.a)(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("api/employees/email/check?email=".concat(t));case 2:return r=e.sent,e.abrupt("return",r.error);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=Object(A.createSlice)({name:"user",initialState:{user:{},status:"idle",error:null},reducers:{userUpdated:function(e,t){return t.payload}},extraReducers:(k={},Object(b.a)(k,V.fulfilled,(function(e,t){e.user=t.payload,e.status="succeeded"})),Object(b.a)(k,V.pending,(function(e,t){e.status="loading"})),Object(b.a)(k,V.rejected,(function(e,t){e.status="failed"})),Object(b.a)(k,Z.fulfilled,(function(e,t){e.user=t.payload})),k)}),re=function(e){return e.user.user},ae=te.reducer,ne=function(e){var t=e.title,r=e.sortName,a=e.setSortOrder,i=e.sortOrder,s=Object(c.useState)(!1),o=Object(l.a)(s,2),u=o[0],d=o[1];return Object(n.jsxs)("th",{onMouseOver:function(e){return d(!0)},onMouseOut:function(e){return d(!1)},onClick:function(){a(r,i<1?i+1:-1)},children:[Object(n.jsx)("span",{style:{float:"left"},children:t}),u?Object(n.jsx)("span",{className:"sorter",style:{float:"right",color:"darksalmon"},children:-1===i?Object(n.jsx)("i",{className:"fa fa-sort-desc"}):1===i?Object(n.jsx)("i",{className:"fa fa-sort-asc"}):Object(n.jsx)("i",{class:"fa fa-random","aria-hidden":"true"})}):""]})},ce=document.cookie.split(";").map((function(e){return e.split("=")})).reduce((function(e,t){var r=Object(l.a)(t,2),a=r[0],n=r[1];return Object(O.a)(Object(O.a)({},e),{},Object(b.a)({},a.trim(),decodeURIComponent(n)))}),{}),ie=function(){var e,t=Object(m.c)(R),r=Object(m.c)(X),a=Object(m.c)((function(e){return e.user.status})),i=Object(m.c)((function(e){return e.devices.status})),s=Object(m.c)((function(e){return e.reports.status})),o=Object(m.c)((function(e){return e.reports.error})),u=Object(m.b)(),d=Object(c.useState)({deviceNameFilter:"",reportTitleFilter:"",reportDateFilter:"",reportStatusFilter:-1}),p=Object(l.a)(d,2),j=p[0],f=p[1],h=Object(c.useState)({deviceNameSorter:0,reportTitleSorter:0,reportDateSorter:0,reportStatusSorter:0}),x=Object(l.a)(h,2),v=x[0],g=x[1],N=Object(c.useState)({top:0,left:0,isDisplay:!1,toolbarOption:0}),y=Object(l.a)(N,2),S=y[0],k=y[1],w=Object(c.useState)({isModalDisplayed:!1,modalOption:1,currentReportId:""}),D=Object(l.a)(w,2),C=D[0],I=D[1],T=Object(c.useState)(),F=Object(l.a)(T,2),E=F[0],_=F[1],A=Object(c.useState)(!0),L=Object(l.a)(A,2),P=L[0],U=L[1];Object(c.useEffect)((function(){"idle"===a&&(console.log(ce.loadingToken),u(V(ce.loadingToken)))}),[a]),Object(c.useEffect)((function(){"idle"===i&&u(M(ce.loadingToken))}),[i]),Object(c.useEffect)((function(){"idle"===s&&u(B(ce.loadingToken))}),[s]),Object(c.useEffect)((function(){U(!0)}),[r]),"succeeded"===a&&"succeeded"===i&&"succeeded"===s?P&&(_(r.map((function(e){return Object(O.a)(Object(O.a)({},e),{},{deviceName:t.find((function(t){return t._id===e.device})).deviceName})}))),U(!1)):"failed"===a||"failed"===i||"failed"===s?e=Object(n.jsx)("div",{children:o}):"loading"!==a&&"loading"!==i&&"loading"!==s||(e=Object(n.jsx)("div",{children:"Loading"}));var G=Object.assign([],E);j.deviceNameFilter&&(G=G.filter((function(e){return-1!==e.deviceName.toLowerCase().indexOf(j.deviceNameFilter.toLowerCase())}))),j.reportTitleFilter&&(G=G.filter((function(e){return-1!==e.title.toLowerCase().indexOf(j.reportTitleFilter.toLowerCase())}))),j.reportDateFilter&&(G=G.filter((function(e){return-1!==e.reportDate.toLowerCase().indexOf(j.reportDateFilter.toLowerCase())}))),-1!==parseInt(j.reportStatusFilter)&&(G=G.filter((function(e){return e.status===parseInt(j.reportStatusFilter)}))),0!==v.deviceNameSorter&&(G=G.sort((function(e,t){return e.deviceName===t.deviceName?0:e.deviceName>t.deviceName?v.deviceNameSorter:-v.deviceNameSorter}))),0!==v.reportTitleSorter&&(G=G.sort((function(e,t){return e.title===t.title?0:e.title>t.title?v.reportTitleSorter:-v.reportTitleSorter}))),0!==v.reportDateSorter&&(G=G.sort((function(e,t){return 0===e.reportDate.localeCompare(t.reportDate)?0:e.reportDate.localeCompare(t.reportDate)>0?v.reportDateSorter:-v.reportDateSorter}))),0!==v.reportStatusSorter&&(G=G.sort((function(e,t){return e.status===t.status?0:e.status>t.status?v.reportStatusSorter:-v.reportStatusSorter})));var J=function(e){I(Object(O.a)(Object(O.a)({},C),{},{currentReportId:e}))};e=G.map((function(e){return Object(n.jsx)(H,{report:e,setCurrentReport:J},e._id)}));var Y=function(e,t){I(Object(O.a)(Object(O.a)({},C),{},{isModalDisplayed:e,modalOption:t}))},W=function(e,t){return g(Object(b.a)({deviceNameSorter:0,reportTitleSorter:0,reportDateSorter:0,reportStatusSorter:0},e,t))};return Object(c.useEffect)((function(){console.log(v)})),Object(n.jsxs)("div",{className:C.isModalDisplayed?"modal-open container-fluid":"container-fluid",children:[S.isDisplay?Object(n.jsx)(Q,{toolbar:S,displayToolbar:function(e){k(Object(O.a)(Object(O.a)({},S),{},{isDisplay:e}))},displayModal:Y,currentReportId:C.currentReportId}):"",C.isModalDisplayed?Object(n.jsx)(q,{reportModal:C,displayModal:Y}):"",Object(n.jsx)("h3",{className:"text-center",children:"Report Management"}),Object(n.jsx)("div",{className:"row justify-content-center",children:Object(n.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-11",children:Object(n.jsxs)("table",{className:"table table-bordered table-hover",children:[Object(n.jsxs)("thead",{className:"thead-dark",children:[Object(n.jsxs)("tr",{children:[Object(n.jsx)(ne,{title:"Device Name",sortName:"deviceNameSorter",sortOrder:v.deviceNameSorter,setSortOrder:W}),Object(n.jsx)(ne,{title:"Title",sortName:"reportTitleSorter",sortOrder:v.reportTitleSorter,setSortOrder:W}),Object(n.jsx)(ne,{title:"Report Date",sortName:"reportDateSorter",sortOrder:v.reportDateSorter,setSortOrder:W}),Object(n.jsx)(ne,{title:"Report Status",sortName:"reportStatusSorter",sortOrder:v.reportStatusSorter,setSortOrder:W})]}),Object(n.jsx)(K,{updateReportFilters:function(e,t){f(Object(O.a)(Object(O.a)({},j),{},Object(b.a)({},e,t)))},filters:j})]}),Object(n.jsx)("tbody",{onMouseMove:function(e){!0===S.isDisplay&&k(Object(O.a)(Object(O.a)({},S),{},{isDisplay:!1}))},onContextMenu:function(e){return function(e){e.preventDefault(),k(Object(O.a)(Object(O.a)({},S),{},{isDisplay:!0,top:e.clientY-35,left:e.clientX}))}(e)},children:e})]})})})]})},se=(r(26),document.cookie.split(";").map((function(e){return e.split("=")})).reduce((function(e,t){var r=Object(l.a)(t,2),a=r[0],n=r[1];return Object(O.a)(Object(O.a)({},e),{},Object(b.a)({},a.trim(),decodeURIComponent(n)))}),{})),oe=function(e){var t=Object(m.c)(re),r=Object(m.c)((function(e){return e.user.status})),a=Object(c.useState)(-1),i=Object(l.a)(a,2),s=i[0],o=i[1],u=Object(c.useState)({_id:"",name:"",address:"",email:"",phoneNumber:"",birthDate:"",position:""}),d=Object(l.a)(u,2),p=d[0],j=d[1],f=Object(c.useState)(!1),h=Object(l.a)(f,2),x=h[0],v=h[1],g=Object(c.useState)({nameInputStatus:!0,addressInputStatus:!0,phoneNumberInputStatus:!0,emailInputStatus:!0,birthDateInputState:!0}),N=Object(l.a)(g,2),y=N[0],S=N[1],k=Object(c.useState)(!0),w=Object(l.a)(k,2),D=w[0],C=w[1],I=Object(m.b)();Object(c.useEffect)((function(){"idle"===r&&I(V(se.loadingToken)),"succeeded"===r&&(j(t),o(0))}),[I,t,r]),Object(c.useEffect)((function(){0!==p.email.localeCompare(t.email)&&0===s&&o(1)}),[p.email]);var T=function(){S({nameInputStatus:!0,addressInputStatus:!0,phoneNumberInputStatus:!0,emailInputStatus:!0,birthDateInputState:!0})},M=function(e){var t=e.target.name,r=e.target.value;"birthDate"===t&&j(Object(O.a)(Object(O.a)({},p),{},{birthDate:r.toLocaleString()})),j(Object(O.a)(Object(O.a)({},p),{},Object(b.a)({},t,r)))};return Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("div",{className:"card-header",children:"Your usermation"}),Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsxs)("div",{className:"input-group flex-nowrap mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",id:"addon-wrapping",children:"ID"})}),Object(n.jsx)("input",{type:"text",className:"form-control",id:"_id",name:"_id",readOnly:!0,value:p._id,"aria-label":"ID"})]}),Object(n.jsxs)("div",{className:"input-group flex-nowrap mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:"Name"})}),Object(n.jsx)("input",{type:"text",className:"form-control","aria-label":"Name",id:"name",name:"name",readOnly:y.nameInputStatus,onDoubleClick:function(){S(Object(O.a)(Object(O.a)({},y),{},{nameInputStatus:!y.nameInputStatus}))},value:p.name,onChange:function(e){return M(e)}}),Object(n.jsx)("div",{className:"input-group-appennd",children:Object(n.jsx)("i",{className:"fa fa-pencil  input-group-text reg-icon","aria-hidden":"true",onClick:function(){S(Object(O.a)(Object(O.a)({},y),{},{nameInputStatus:!y.nameInputStatus}))}})})]}),Object(n.jsxs)("div",{className:"input-group flex-nowrap mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("label",{className:"input-group-text",children:"Adress"})}),Object(n.jsx)("input",{type:"text",className:"form-control ",id:"address",name:"address",readOnly:y.addressInputStatus,onDoubleClick:function(){return S(Object(O.a)(Object(O.a)({},y),{},{addressInputStatus:!y.addressInputStatus}))},value:p.address,onChange:function(e){return M(e)}}),Object(n.jsx)("div",{className:"input-group-appennd",children:Object(n.jsx)("i",{className:"fa fa-pencil input-group-text reg-icon","aria-hidden":"true",onClick:function(){S(Object(O.a)(Object(O.a)({},y),{},{addressInputStatus:!y.addressInputStatus}))}})})]}),Object(n.jsxs)("div",{className:"input-group mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("label",{className:"input-group-text",children:"Phone"})}),Object(n.jsx)("input",{type:"text",className:"form-control ",id:"phoneNumber",name:"phoneNumber",readOnly:y.phoneNumberInputStatus,onDoubleClick:function(){return S(Object(O.a)(Object(O.a)({},y),{},{phoneNumberInputStatus:!y.phoneNumberInputStatus}))},value:p.phoneNumber,onChange:function(e){return M(e)}}),Object(n.jsx)("div",{className:"input-group-append",children:Object(n.jsx)("i",{className:"fa fa-pencil input-group-text reg-icon","aria-hidden":"true",onClick:function(){S(Object(O.a)(Object(O.a)({},y),{},{phoneNumberInputStatus:!y.phoneNumberInputStatus}))}})})]}),Object(n.jsxs)("div",{className:"input-group mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("label",{className:"input-group-text",children:"Email"})}),Object(n.jsx)("input",{type:"text",className:"form-control ",id:"email",name:"email",readOnly:y.emailInputStatus,onDoubleClick:function(){return S(Object(O.a)(Object(O.a)({},y),{},{emailInputStatus:!y.emailInputStatus}))},value:p.email,onChange:function(e){return M(e)}}),Object(n.jsx)("div",{className:"input-group-append",children:Object(n.jsx)("i",{className:"fa fa-pencil input-group-text reg-icon","aria-hidden":"true",onClick:function(){return S(Object(O.a)(Object(O.a)({},y),{},{emailInputStatus:!y.emailInputStatus}))}})})]}),Object(n.jsxs)("div",{className:"input-group mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("label",{className:"input-group-text",children:"BirthDate:"})}),Object(n.jsx)("input",{type:"date",className:"form-control ",id:"birthDate",name:"birthDate",readOnly:"readOnly",onDoubleClick:function(){S(Object(O.a)(Object(O.a)({},y),{},{birthDateInputState:!y.birthDateInputState}))},value:void 0!==p.birthDate?p.birthDate.substring(0,p.birthDate.indexOf("T")):"",onChange:function(e){return M(e)}})]}),Object(n.jsxs)("div",{className:"input-group mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("label",{className:"input-group-text",children:"Position"})}),Object(n.jsx)("input",{type:"text",className:"form-control ",id:"position",name:"position",readOnly:!0,value:p.position})]})]}),Object(n.jsxs)("div",{className:"card-footer text-muted",children:[Object(n.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:function(){v(!0),s?ee(p.email).then((function(e){"invalid_email"===e?(v(!1),C(!1),o(0),j(Object(O.a)(Object(O.a)({},p),{},{email:t.email}))):"valid_email"===e&&I(Z(p)).then((function(){v(!1),C(!0),o(0)}))})).catch((function(e){alert(e),C(!1),o(0),j(Object(O.a)(Object(O.a)({},p),{},{email:t.email}))})):I(Z(p)).then((function(){v(!1)})).catch((function(e){return alert(e)})),T()},children:[x?Object(n.jsx)("i",{className:"fa fa-circle-o-notch fa-spin"}):"","\xa0Save"]}),"\xa0",Object(n.jsx)("button",{type:"button",className:"btn btn-warning",onClick:function(){j(t),T(),C(!0)},children:"Cancel"}),"\xa0",D?"":Object(n.jsx)("i",{className:"fa fa-exclamation-triangle",style:{color:"red"},children:" Invalid Email"})]})]})},le=function(){return Object(n.jsxs)("div",{className:"container-fluid",children:[Object(n.jsx)("h3",{className:"text-center",children:"Private Information"}),Object(n.jsx)("div",{className:"row   justify-content-center mt-50",children:Object(n.jsx)("div",{className:"col-xs-12 col-sm-10 col-md-8 col-lg-6",children:Object(n.jsx)(oe,{})})})]})};var ue=function(){return Object(n.jsxs)(u.a,{children:[Object(n.jsx)(p,{}),Object(n.jsx)("div",{className:"App ",children:Object(n.jsxs)(j.d,{children:[Object(n.jsx)(j.b,{exact:!0,path:"/reporting"}),Object(n.jsx)(j.b,{exact:!0,path:"/reporting/user",component:le}),Object(n.jsx)(j.b,{exact:!0,path:"/reporting/reports",component:ie}),Object(n.jsx)(j.a,{to:"/reporting"})]})})]})},de=Object(A.configureStore)({reducer:{user:ae,reports:z,devices:_}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(m.a,{store:de,children:Object(n.jsx)(ue,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[48,1,2]]]);
//# sourceMappingURL=main.d314bc55.chunk.js.map