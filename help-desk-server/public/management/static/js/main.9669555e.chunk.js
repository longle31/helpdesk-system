(this["webpackJsonphelp-desk"]=this["webpackJsonphelp-desk"]||[]).push([[0],{28:function(e,t,r){},30:function(e,t,r){},31:function(e,t,r){},32:function(e,t,r){},41:function(e,t,r){},42:function(e,t,r){},49:function(e,t,r){"use strict";r.r(t);var a,n=r(0),c=r(1),s=r.n(c),i=r(20),o=r.n(i),l=(r(41),r(28),r(4)),u=(r(42),r(16)),d=document.location.host,p=function(){var e=Object(c.useState)(0),t=Object(l.a)(e,2),r=t[0],a=t[1];return Object(n.jsx)("div",{className:"wrapper",children:Object(n.jsxs)("nav",{id:"sidebar",children:[Object(n.jsx)("div",{className:"sidebar-header"}),Object(n.jsxs)("ul",{className:"list-unstyled components",children:[Object(n.jsx)("li",{className:0===r?"active":"",children:Object(n.jsx)(u.b,{to:"/management/home",onClick:function(){return a(0)},children:Object(n.jsx)("i",{className:"fa fa-home reg-icon","aria-hidden":"true"})})}),Object(n.jsx)("li",{className:1===r?"active":"",children:Object(n.jsx)(u.b,{to:"/management/user",onClick:function(){return a(1)},children:Object(n.jsx)("i",{className:"fa fa-address-card-o reg-icon","aria-hidden":"true"})})}),Object(n.jsx)("li",{className:2===r?"active":"",children:Object(n.jsx)(u.b,{to:"/management/tasks",onClick:function(){return a(2)},children:Object(n.jsx)("i",{className:"fa fa-tasks reg-icon","aria-hidden":"true"})})}),Object(n.jsx)("li",{className:3===r?"active":"",children:Object(n.jsx)(u.b,{to:"/management/employees",onClick:function(){return a(3)},children:Object(n.jsx)("i",{className:"fa fa-users reg-icon","aria-hidden":"true"})})}),Object(n.jsx)("li",{className:4===r?"active":"",children:Object(n.jsx)(u.b,{to:"/management/reports",onClick:function(){return a(4)},children:Object(n.jsx)("i",{className:"fa fa-file-text reg-icon","aria-hidden":"true"})})}),Object(n.jsx)("li",{children:Object(n.jsx)(u.b,{onClick:function(){fetch("http://".concat(d,"/logout"),{method:"GET"}),window.location.replace("http://".concat(d,"/logout"))},children:Object(n.jsx)("i",{className:"fa fa-sign-out reg-icon","aria-hidden":"true"})})})]})]})})},j=r(10),b=r(2),m=r(5),O=r(3),f=function(e){var t=e.emp;return Object(n.jsxs)("tr",{onContextMenu:function(){e.currentEmployeeIdUpdated(t._id)},children:[Object(n.jsx)("td",{children:t._id}),Object(n.jsx)("td",{children:t.name}),Object(n.jsx)("td",{children:t.phoneNumber}),Object(n.jsx)("td",{children:t.email}),Object(n.jsx)("td",{children:t.position})]},t._id)},h=function(e){var t=e.filters,r=function(t){var r=t.target.name,a=t.target.value;e.filtersUpdated(r,a)};return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)("input",{type:"text",className:"form-control",name:"idFilter",id:"idFilter","aria-describedby":"helpId",placeholder:"searching id",value:t.idFilter,onChange:function(e){return r(e)}})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{type:"text",className:"form-control",name:"nameFilter",id:"nameFilter","aria-describedby":"helpId",placeholder:"searching name",value:t.nameFilter,onChange:function(e){return r(e)}})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{type:"text",className:"form-control",name:"phoneNumberFilter",id:"phoneNumberFilter","aria-describedby":"helpId",placeholder:"searching phone",value:t.phoneNumberFilter,onChange:function(e){return r(e)}})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{type:"text",className:"form-control",name:"emailFilter",id:"emailFilter","aria-describedby":"helpId",placeholder:"searching email",value:t.email,onChange:function(e){return r(e)}})}),Object(n.jsx)("td",{children:Object(n.jsxs)("select",{className:"form-control",name:"positionFilter",id:"positionFilter",value:t.positionFilter,onChange:function(e){return r(e)},children:[Object(n.jsx)("option",{value:"all",children:"all"}),Object(n.jsx)("option",{value:"technician",children:"tenchnician"}),Object(n.jsx)("option",{value:"employee",children:"employee"}),Object(n.jsx)("option",{value:"manager",children:"manager"})]})})]})},x=r(6),N=r.n(x),v=r(9),g=r(7),y=r(34),S=document.location.host.toString();function k(e){return w.apply(this,arguments)}function w(){return(w=Object(v.a)(N.a.mark((function e(t){var r,a,n,c,s,i,o,l=arguments;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:{},a=r.body,n=Object(y.a)(r,["body"]),c={"Content-Type":"application/json"},s=Object(b.a)(Object(b.a)({method:a?"POST":"GET"},n),{},{headers:Object(b.a)(Object(b.a)({},c),n.headers)}),a&&(s.body=JSON.stringify(a)),e.prev=4,e.next=7,window.fetch("http://".concat(S,"/").concat(t),s);case 7:if(401!==(o=e.sent).status){e.next=12;break}return window.location.assign(window.location),e.abrupt("return");case 12:return e.next=14,o.json();case 14:if(i=e.sent,!o.ok){e.next=17;break}return e.abrupt("return",i);case 17:throw new Error(o.statusText);case 20:return e.prev=20,e.t0=e.catch(4),e.abrupt("return",Promise.reject(e.t0.message?e.t0.message:i));case 23:case"end":return e.stop()}}),e,null,[[4,20]])})))).apply(this,arguments)}k.get=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return k(e,Object(b.a)(Object(b.a)({},t),{},{method:"GET"}))},k.post=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return k(e,Object(b.a)(Object(b.a)({},r),{},{body:t,method:"POST"}))},k.delete=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return k(e,Object(b.a)(Object(b.a)({},t),{},{method:"DELETE"}))},k.put=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return k(e,Object(b.a)(Object(b.a)({},r),{},{body:t,method:"PUT"}))};var C,T,I,D,F=Object(g.createEntityAdapter)({selectId:function(e){return e._id}}),M=Object(g.createAsyncThunk)("employees/fetchEmployees",Object(v.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("api/employees");case 2:return t=e.sent,e.abrupt("return",t.employees);case 4:case"end":return e.stop()}}),e)})))),E=Object(g.createAsyncThunk)("employees/addNewEmployee",function(){var e=Object(v.a)(N.a.mark((function e(t){var r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("api/employees",{employee:t});case 2:return r=e.sent,e.abrupt("return",r.employee);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),_=Object(g.createAsyncThunk)("employees/updateEmployee",function(){var e=Object(v.a)(N.a.mark((function e(t,r){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.put("api/employees/".concat(r),{employee:t});case 2:return a=e.sent,e.abrupt("return",a.emloyee);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),R=(Object(g.createAsyncThunk)("employees/updateEmployee",function(){var e=Object(v.a)(N.a.mark((function e(t){var r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("api/employees/".concat(t));case 2:return r=e.sent,e.abrupt("return",r.emloyee);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),function(){var e=Object(v.a)(N.a.mark((function e(t){var r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("api/employees/email/check?email=".concat(t));case 2:return r=e.sent,e.abrupt("return",r.error);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),q=F.getInitialState({status:"idle",error:null}),A=Object(g.createSlice)({name:"employees",initialState:q,reducers:{},extraReducers:(a={},Object(m.a)(a,M.pending,(function(e,t){e.status="loading"})),Object(m.a)(a,M.fulfilled,(function(e,t){e.status="succeeded",F.upsertMany(e,t.payload)})),Object(m.a)(a,M.rejected,(function(e,t){e.status="failed",e.error=t.error.message})),Object(m.a)(a,E.fulfilled,(function(e,t){return F.addOne(e,t.payload)})),Object(m.a)(a,_.fulfilled,(function(e,t){return F.updateOne(e,{_id:t.payload._id,changes:t.payload})})),a)}),L=F.getSelectors((function(e){return e.employees})),P=L.selectAll,B=L.selectById,U=(L.selectEntities,A.reducer),Y=(r(30),function(e){var t=e.closeModal,r=Object(O.b)(),a=Object(c.useState)(!1),s=Object(l.a)(a,2),i=s[0],o=s[1],u=Object(c.useState)(!1),d=Object(l.a)(u,2),p=d[0],j=d[1],f=Object(c.useState)(!1),h=Object(l.a)(f,2),x=h[0],N=h[1],v=Object(c.useState)(!1),g=Object(l.a)(v,2),y=g[0],S=g[1],k=Object(c.useState)(!1),w=Object(l.a)(k,2),C=w[0],T=w[1],I=Object(c.useState)(!1),D=Object(l.a)(I,2),F=D[0],M=D[1],_=Object(c.useState)(!0),q=Object(l.a)(_,2),A=q[0],L=q[1],P=Object(c.useState)("hardware"),B=Object(l.a)(P,2),U=B[0],Y=B[1],X={name:"",address:"",phoneNumber:"",email:"",birthDate:"",position:"employee"},G=Object(c.useState)(X),H=Object(l.a)(G,2),J=H[0],z=H[1],W=/[A-Za-z]+/,Z=/\w+[-/]*/,$=/\d+/,K=/^[\D]\w+@.+\./;Object(c.useEffect)((function(){J.name.match(W)?o(!0):o(!1),J.address.match(Z)?j(!0):j(!1),J.phoneNumber.match($)?N(!0):N(!1),J.email.match(K)?S(!0):S(!1),J.birthDate?T(!0):T(!1)}),[J]);var Q=function(e){var t=e.target.name,r=e.target.value;z(Object(b.a)(Object(b.a)({},J),{},Object(m.a)({},t,r)))},V=function(e,t){return!1===t?Object(n.jsx)("i",{className:"fa fa-exclamation-circle input-group-text reg-icon",style:{color:"red"},"aria-hidden":"true"}):Object(n.jsx)("i",{className:"fa fa-check input-group-text reg-icon",style:{color:"green"},"aria-hidden":"true"})};return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"modal-body",children:Object(n.jsxs)("form",{id:"empModalAddContent",children:[Object(n.jsxs)("div",{className:"input-group flex-nowrap mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:"Name"})}),Object(n.jsx)("input",{type:"text",name:"name",id:"name",className:"form-control",onChange:function(e){return Q(e)},value:J.name,style:{borderColor:i?"green":"red"}}),Object(n.jsx)("div",{className:"input-group-append ",children:V(0,i)})]}),Object(n.jsxs)("div",{className:"input-group flex-nowrap mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:"Address"})}),Object(n.jsx)("input",{type:"text",name:"address",id:"address",datatoggle:"tooltip",title:"Some tooltip text!",className:"form-control",onChange:function(e){return Q(e)},value:J.address,style:{borderColor:p?"green":"red"}}),Object(n.jsx)("div",{className:"input-group-append ",children:V(0,p)})]}),Object(n.jsxs)("div",{className:"input-group flex-nowrap mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:"Phone"})}),Object(n.jsx)("input",{type:"text",name:"phoneNumber",id:"phoneNumber",className:"form-control",onChange:function(e){return Q(e)},value:J.phoneNumber,style:{borderColor:x?"green":"red"}}),Object(n.jsx)("div",{className:"input-group-append ",children:V(0,x)})]}),Object(n.jsxs)("div",{className:"input-group flex-nowrap mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:"Email"})}),Object(n.jsx)("input",{type:"text",name:"email",id:"email",className:"form-control",onChange:function(e){return Q(e)},value:J.email,style:{borderColor:y&&A?"green":"red"}}),Object(n.jsx)("div",{className:"input-group-append ",children:V(0,y&&A)})]}),Object(n.jsxs)("div",{className:"input-group flex-nowrap mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:"BirthDate"})}),Object(n.jsx)("input",{type:"date",name:"birthDate",id:"birthDate",className:"form-control",onChange:function(e){return Q(e)},value:J.birthDate,style:{borderColor:C?"green":"red"}}),Object(n.jsx)("div",{className:"input-group-append ",children:V(0,C)})]}),Object(n.jsxs)("div",{className:"input-group flex-nowrap mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:"Position"})}),Object(n.jsxs)("select",{className:"form-control",name:"position",id:"position",onChange:function(e){return Q(e)},value:J.position,children:[Object(n.jsx)("option",{value:"employee",children:"Employee"}),Object(n.jsx)("option",{value:"technician",children:"Technician"})]})]}),"technician"===J.position?Object(n.jsxs)("div",{className:"input-group flex-nowrap mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:"Technique"})}),Object(n.jsxs)("select",{className:"form-control",name:"technique",id:"position",onChange:function(e){return Y(e.target.value)},value:U,children:[Object(n.jsx)("option",{value:"hardware",children:"Hardware"}),Object(n.jsx)("option",{value:"software",children:"Software"}),Object(n.jsx)("option",{value:"network",children:"Network"})]})]}):""]})}),Object(n.jsxs)("div",{className:"modal-footer",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:function(){t()},children:"Close"}),Object(n.jsxs)("button",{type:"button",className:"btn btn-primary",disabled:!(i&&x&&C&&p&&y),onClick:function(e){return M(!0),void R(J.email).then((function(e){"valid_email"===e?(L(!0),r(E("technician"===J.position?Object(b.a)(Object(b.a)({},J),{},{technique:U}):J)).then((function(e){z(X),M(!1)}))):"invalid_email"===e&&(L(!1),M(!1))})).catch((function(e){L(!1),M(!1)}))},children:[F?Object(n.jsx)("i",{className:"fa fa-circle-o-notch fa-spin"}):"","\xa0Save"]})]})]})}),X=function(e){var t=e.currentEmployeeId,r=(Object(O.c)(P),Object(O.c)((function(e){return B(e,t)})));return r?Object(n.jsx)("form",{id:"moreDetailForm",children:Object(n.jsxs)("div",{className:"input-group flex-nowrap mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:"Name"})}),Object(n.jsx)("input",{type:"text",name:"name",id:"name",className:"form-control",onChange:function(e){},value:r.name})]})}):""},G=function(e){var t=e.employeeModal,r=t.isEmployeeModalDisplayed,a=t.employeeModalStatus,c=t.currentEmployeeId,s=(Object(O.b)(),function(){e.updateEmployeeModal(!1,0)}),i=0===a?Object(n.jsx)(Y,{closeModal:s}):1===a?Object(n.jsx)(X,{closeModal:s,currentEmployeeId:c}):"";return Object(n.jsx)("div",{className:r?"modal fade show":"modal fade",style:{display:r?"block":"none"},id:"employeeModal",tabIndex:"-1",role:"dialog","aria-labelledby":"employeeModalTitle","aria-hidden":"true",onClick:function(t){!function(t){var a=t.clientX,n=t.clientY,c=document.getElementById("employeeModalContent").getBoundingClientRect();0===n&&0===a||r&&(a<c.left||a>c.right||n<c.top||n>c.bottom)&&e.updateEmployeeModal(!1,0)}(t)},children:Object(n.jsx)("div",{className:"modal-dialog",role:"document",children:Object(n.jsxs)("div",{className:"modal-content",id:"employeeModalContent",children:[Object(n.jsxs)("div",{className:"modal-header",children:[Object(n.jsx)("h5",{className:"modal-title",id:"employeeModalTitle",children:0===a?"Add New Employee":""}),Object(n.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){e.updateEmployeeModal(!1,0)},children:Object(n.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),i]})})})},H=function(e){var t=e.title,r=e.sortName,a=e.setSortOrder,s=e.sortOrder,i=Object(c.useState)(!1),o=Object(l.a)(i,2),u=o[0],d=o[1];return Object(n.jsxs)("th",{onMouseOver:function(e){return d(!0)},onMouseOut:function(e){return d(!1)},onClick:function(){a(r,s<1?s+1:-1)},children:[Object(n.jsx)("span",{style:{float:"left"},children:t}),u?Object(n.jsx)("span",{className:"sorter",style:{float:"right",color:"darksalmon"},children:-1===s?Object(n.jsx)("i",{className:"fa fa-sort-desc"}):1===s?Object(n.jsx)("i",{className:"fa fa-sort-asc"}):Object(n.jsx)("i",{class:"fa fa-random","aria-hidden":"true"})}):""]})},J=function(e){var t=e.displayToolbar,r=e.updateEmployeeModal,a=e.toolbar,c=a.top,s=a.left,i=a.isDisplay;Object(O.b)();return Object(n.jsxs)("span",{className:"menu-toolbar",style:{top:c,left:s,display:!0===i?"block":"none"},children:[Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){t(!1),r(!0,0)},children:Object(n.jsx)("i",{className:"fa fa-plus reg-icon","aria-hidden":"true"})}),"\xa0",Object(n.jsx)("button",{type:"button",className:"btn btn-primary",children:Object(n.jsx)("i",{className:"fa fa-pencil-square-o reg-icon","aria-hidden":"true"})}),"\xa0",Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){t(!1),r(!0,1)},children:Object(n.jsx)("i",{className:"fa fa-info-circle reg-icon","aria-hidden":"true"})})]})},z=r(7),W=z.createSlice,Z=z.createEntityAdapter,$=z.createAsyncThunk,K=Z({selectId:function(e){return e._id}}),Q=($("devices/fetchDevices",function(){var e=Object(v.a)(N.a.mark((function e(t){var r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=k.get("api/employees/".concat(t,"/devices")),e.abrupt("return",r.devices);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),$("devices/fetchDevise",Object(v.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("api/devices");case 2:return t=e.sent,e.abrupt("return",t.devices);case 4:case"end":return e.stop()}}),e)}))))),V=W({name:"devices",initialState:K.getInitialState({status:"idle",error:null}),reducers:{},extraReducers:(C={},Object(m.a)(C,Q.pending,(function(e,t){e.status="loading"})),Object(m.a)(C,Q.rejected,(function(e,t){e.status="failed"})),Object(m.a)(C,Q.fulfilled,(function(e,t){e.status="succeeded",K.upsertMany(e,t.payload)})),C)}),ee=K.getSelectors((function(e){return e.devices})),te=ee.selectAll,re=ee.selectById,ae=V.reducer,ne=function(){var e,t=Object(O.b)(),r=Object(O.c)((function(e){return e.employees.status})),a=Object(O.c)((function(e){return e.employees.error})),s=Object(O.c)(P);Object(c.useEffect)((function(){"idle"===r&&t(M())}),[r,t]),"loading"===r?e=Object(n.jsx)("div",{className:"spinner-border",role:"status",children:Object(n.jsx)("span",{className:"sr-only",children:"Loading..."})}):"succeeded"===r?e=s:"failed"===r&&(e=Object(n.jsx)("div",{children:a}));var i=Object(c.useState)({idFilter:"",nameFilter:"",addressFilter:"",emailFilter:"",phoneNumberFilter:"",positionFilter:"all"}),o=Object(l.a)(i,2),u=o[0],d=o[1],p=Object(c.useState)({idSorter:0,nameSorter:0,addressSorter:0,emailSorter:0,phoneNumberSorter:0,positionSorter:0}),j=Object(l.a)(p,2),x=j[0],N=j[1],v=Object(c.useState)({top:0,left:0,isDisplay:!1}),g=Object(l.a)(v,2),y=g[0],S=g[1],k=Object(c.useState)({isEmployeeModalDisplayed:!1,currentEmployeeId:"",employeeModalStatus:-1}),w=Object(l.a)(k,2),C=w[0],T=w[1],I=function(e,t){N(Object(m.a)({idSorter:0,nameSorter:0,addressSorter:0,emailSorter:0,phoneNumberSorter:0,positionSorter:0},e,t))},D=Object.assign([],e);u.idFilter&&(D=D.filter((function(e){return-1!==e._id.toString().toLowerCase().indexOf(u.idFilter.toLowerCase())}))),u.nameFilter&&(D=D.filter((function(e){return-1!==e.name.toString().toLowerCase().indexOf(u.nameFilter.toLowerCase())}))),u.phoneNumberFilter&&(D=D.filter((function(e){return-1!==e.phoneNumber.toString().toLowerCase().indexOf(u.phoneNumberFilter.toLowerCase())}))),u.emailFilter&&(D=D.filter((function(e){return-1!==e.email.toString().toLowerCase().indexOf(u.emailFilter.toLowerCase())}))),D=D.filter((function(e){return"all"===u.positionFilter?e:"employee"===u.positionFilter?"employee"===e.position:"manager"===u.positionFilter?"manager"===e.position:"technician"===e.position})),0!==x.idSorter&&(D=D.sort((function(e,t){return e._id>t._id?x.idSorter:-x.idSorter}))),0!==x.nameSorter&&(D=D.sort((function(e,t){return e.name===t.name?0:e.name>t.name?x.nameSorter:-x.nameSorter}))),0!==x.addressSorter&&(D=D.sort((function(e,t){return e.address===t.address?0:e.address>t.address?x.addressSorter:-x.addressSorter}))),0!==x.emailSorter&&(D=D.sort((function(e,t){return e.email===t.email?0:e.email>t.email?x.emailSorter:-x.emailSorter}))),0!==x.phoneNumberSorter&&(D=D.sort((function(e,t){return e.phoneNumber===t.phoneNumber?0:e.phoneNumber>t.phoneNumber?x.phoneNumberSorter:-x.phoneNumberSorter}))),0!==x.positionSorter&&(D=D.sort((function(e,t){return e.position===t.position?0:e.position>t.position?x.positionSorter:-x.positionSorter})));var F=function(e){T(Object(b.a)(Object(b.a)({},C),{},{currentEmployeeId:e}))},E=D.map((function(e){return Object(n.jsx)(f,{emp:e,currentEmployeeIdUpdated:F},e._id)})),_=function(e,t){T(Object(b.a)(Object(b.a)({},C),{},{isEmployeeModalDisplayed:e,employeeModalStatus:t}))};return Object(n.jsxs)("div",{className:C.isEmployeeModalDisplayed?"modal-open container-fluid":"container-fluid",children:[y.isDisplay?Object(n.jsx)(J,{toolbar:y,displayToolbar:function(e){S(Object(b.a)(Object(b.a)({},y),{},{isDisplay:e}))},updateEmployeeModal:_}):"",C.isEmployeeModalDisplayed?Object(n.jsx)(G,{updateEmployeeModal:_,currentEmployeeId:C.currentEmployeeId,employeeModal:C}):"",Object(n.jsx)("h3",{className:"text-center",children:"Employees Management"}),Object(n.jsx)("div",{className:"row justify-content-center",children:Object(n.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-11",children:Object(n.jsxs)("table",{className:"table table-bordered table-hover",children:[Object(n.jsxs)("thead",{className:"thead-dark",children:[Object(n.jsxs)("tr",{children:[Object(n.jsx)(H,{title:"ID",sortName:"idSorter",sortOrder:x.idSorter,setSortOrder:I}),Object(n.jsx)(H,{title:"Name",sortName:"nameSorter",sortOrder:x.nameSorter,setSortOrder:I}),Object(n.jsx)(H,{title:"Phone Number",sortName:"phoneNumberSorter",sortOrder:x.phoneNumberSorter,setSortOrder:I}),Object(n.jsx)(H,{title:"Email",sortName:"emailSorter",sortOrder:x.emailSorter,setSortOrder:I}),Object(n.jsx)(H,{title:"Position",sortName:"positionSorter",sortOrder:x.positionSorter,setSortOrder:I})]}),Object(n.jsx)(h,{filters:u,filtersUpdated:function(e,t){d(Object(b.a)(Object(b.a)({},u),{},Object(m.a)({},e,t)))}})]}),Object(n.jsx)("tbody",{onMouseMove:function(e){y.isDisplay&&S(Object(b.a)(Object(b.a)({},y),{},{isDisplay:!1}))},onContextMenu:function(e){return function(e){e.preventDefault(),S({left:e.clientX,top:e.clientY-35,isDisplay:!0})}(e)},children:s?E:e})]})})})]})},ce=Object(g.createEntityAdapter)({selectId:function(e){return e._id}}),se=Object(g.createAsyncThunk)("tasks/fetchTasks",Object(v.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("api/tasks");case 2:return t=e.sent,e.abrupt("return",t.tasks);case 4:case"end":return e.stop()}}),e)})))),ie=Object(g.createAsyncThunk)("tasks/addNewTask",function(){var e=Object(v.a)(N.a.mark((function e(t){var r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("api/tasks",{task:t});case 2:return r=e.sent,e.abrupt("return",r.task);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),oe=Object(g.createAsyncThunk)("tasks/updateTask",function(){var e=Object(v.a)(N.a.mark((function e(t){var r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.put("api/tasks/".concat(t._id),{task:t});case 2:return r=e.sent,e.abrupt("return",r.task);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),le=ce.getInitialState({status:"idle",error:null}),ue=Object(g.createSlice)({name:"reports",initialState:le,reducers:{updateInternalTask:function(e,t){var r=e.ids.find((function(e){return e===t.payload._id}));e.entities[r]=t.payload}},extraReducers:(T={},Object(m.a)(T,se.fulfilled,(function(e,t){e.status="succeeded",ce.upsertMany(e,t.payload)})),Object(m.a)(T,se.pending,(function(e,t){e.status="loading"})),Object(m.a)(T,se.rejected,(function(e,t){e.status="failed"})),Object(m.a)(T,ie.fulfilled,(function(e,t){return ce.addOne(e,t.payload)})),Object(m.a)(T,oe.fulfilled,(function(e,t){return ce.updateOne(e,{id:t.payload._id,changes:t.payload})})),T)}),de=ce.getSelectors((function(e){return e.tasks})),pe=de.selectAll,je=(de.selectIds,de.selectById),be=(ue.actions.updateInternalTask,ue.reducer),me=Object(g.createEntityAdapter)({selectId:function(e){return e._id}}),Oe=Object(g.createAsyncThunk)("reports/fetchReports",Object(v.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("api/reports");case 2:return t=e.sent,e.abrupt("return",t.reports);case 4:case"end":return e.stop()}}),e)})))),fe=Object(g.createAsyncThunk)("reports/deleteReport",function(){var e=Object(v.a)(N.a.mark((function e(t){var r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.delete("api/reports/".concat(t));case 2:return r=e.sent,e.abrupt("return",r.report);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),he=Object(g.createAsyncThunk)("reports/addNewReport",function(){var e=Object(v.a)(N.a.mark((function e(t){var r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.post("api/reports",{report:t});case 2:return r=e.sent,e.abrupt("return",r.report);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),xe=function(){var e=Object(v.a)(N.a.mark((function e(t){var r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("api/reports/".concat(t,"/status"));case 2:return r=e.sent,e.abrupt("return",r.status);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=Object(g.createAsyncThunk)("reports/updateReport",function(){var e=Object(v.a)(N.a.mark((function e(t){var r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.put("api/reports/".concat(t._id),{report:t});case 2:return r=e.sent,e.abrupt("return",r.report);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ve=me.getInitialState({status:"idle",error:null,filters:{}}),ge=Object(g.createSlice)({name:"reports",initialState:ve,reducers:{addNewReport:{reducer:function(e,t){e.reports.push(t.payload)},prepare:function(e,t,r){return{payload:{employeeId:e,deviceId:t,detail:r.substring(0,100),reportDate:(new Date).toLocaleString(),reportStatus:0}}}}},extraReducers:(I={},Object(m.a)(I,Oe.pending,(function(e,t){e.status="loading"})),Object(m.a)(I,Oe.fulfilled,(function(e,t){e.status="succeeded",me.upsertMany(e,t.payload)})),Object(m.a)(I,Oe.rejected,(function(e,t){e.status="failed"})),Object(m.a)(I,he.fulfilled,(function(e,t){return me.addOne(e,t.payload)})),Object(m.a)(I,fe.fulfilled,(function(e,t){return me.removeOne(e,t.payload._id)})),Object(m.a)(I,Ne.fulfilled,(function(e,t){return me.updateOne(e,{id:t.payload._id,changes:t.payload})})),I)}),ye=me.getSelectors((function(e){return e.reports})),Se=ye.selectAll,ke=(ye.selectIds,ye.selectById),we=ge.reducer,Ce=function(e){var t=e.task,r=e.setCurrentTaskId;return Object(n.jsxs)("tr",{onClick:function(e){r(t._id)},"data-toggle":"modal","data-target":"#exampleModal",className:-1===t.status?"bg-warning":"",children:[Object(n.jsx)("td",{children:t.technicianName}),Object(n.jsx)("td",{children:t.reportTitle}),Object(n.jsx)("td",{children:t.taskName}),Object(n.jsx)("td",{children:-1===t.status?Object(n.jsx)("span",{className:"badge badge-fill badge-danger",children:"Denied"}):0===t.status?Object(n.jsx)("span",{className:"badge badge-fill badge-primary",children:"Solving"}):1===t.status?Object(n.jsx)("span",{className:"badge badge-fill badge-success",children:"Finish"}):""}),Object(n.jsx)("td",{children:Object(n.jsx)("span",{className:"progress",children:Object(n.jsx)("span",{className:"progress-bar progress-bar-striped bg-danger",role:"progressbar",style:{width:"".concat(t.progress,"%")},"aria-valuenow":t.progress,"aria-valuemin":"0","aria-valuemax":"100",children:t.progress})})})]})},Te=function(e){var t=e.currentTaskId,r=e.taskModal,a=e.setTaskModal,s=Object(O.b)(),i=Object(O.c)(P).filter((function(e){return"technician"===e.position})),o=Object(c.useState)("all"),u=Object(l.a)(o,2),d=u[0],p=u[1],j=Object(c.useState)(i),m=Object(l.a)(j,2),f=m[0],h=m[1],x=Object(O.c)((function(e){return je(e,t)})),N=Object(c.useState)(f[1]),v=Object(l.a)(N,2),g=v[0],y=v[1],S=Object(c.useState)(!1),k=Object(l.a)(S,2),w=k[0],C=k[1],T=Object(c.useState)(!1),I=Object(l.a)(T,2),D=I[0],F=I[1],M=f.map((function(e){return Object(n.jsx)("option",{value:e.name,children:e.name},e._id)})),E=Object(c.useState)(0),_=Object(l.a)(E,2);_[0],_[1];Object(c.useEffect)((function(){""===x.taskName?C(!1):C(!0)}),[x]),Object(c.useEffect)((function(){"all"===d?h(i):"hardware"===d?h(i.filter((function(e){return"hardware"===e.technique}))):"software"===d?h(i.filter((function(e){return"software"===e.technique}))):"network"===d&&h(i.filter((function(e){return"network"===e.technique})))}),[d]);return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"modal-body",children:[Object(n.jsxs)("div",{className:"input-group flex-nowrap mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:"Technician"})}),Object(n.jsx)("select",{name:"technician",id:"input",className:"form-control",required:"required",value:g.name,onChange:function(e){var t;t=e.target.value,y(i.find((function(e){return e.name===t})))},children:M})]}),Object(n.jsxs)("div",{className:"input-group flex-nowrap mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:"Technique"})}),Object(n.jsxs)("select",{className:"form-control",name:"technique",id:"position",value:d,onChange:function(e){e.target.value!==d&&p(e.target.value)},children:[Object(n.jsx)("option",{value:"all",children:"All"}),Object(n.jsx)("option",{value:"hardware",children:"Hardware"}),Object(n.jsx)("option",{value:"software",children:"Software"}),Object(n.jsx)("option",{value:"network",children:"Network"})]})]}),Object(n.jsxs)("div",{className:"input-group flex=nowrap mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:"Task Name"})}),Object(n.jsx)("input",{value:x.taskName,type:"text",readOnly:"readOnly",className:"form-control"})]}),Object(n.jsxs)("div",{className:"input-group flex=nowrap mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:"Detail"})}),Object(n.jsx)("textarea",{type:"text",name:"taskDetail",id:"input",className:"form-control",required:"required",rows:4,value:x.detail,readOnly:"ReadOnly"})]})]}),Object(n.jsxs)("div",{className:"modal-footer",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:function(){return a(Object(b.a)(Object(b.a)({},r),{},{isDisplay:!1}))},children:"Close"}),"\xa0",Object(n.jsxs)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",onClick:function(){F(!0),s(oe(Object(b.a)(Object(b.a)({},x),{},{technician:g._id,status:0}))).then((function(){F(!1)})).catch((function(e){F(!1),alert(e)}))},disabled:!w,children:["\xa0 Assgin \xa0",D?Object(n.jsx)("i",{className:"fa fa-circle-o-notch fa-spin"}):Object(n.jsx)("i",{className:"fa fa-check-square-o","aria-hidden":"true"})]})]})]})},Ie=function(e){var t=e.taskModal,r=e.setTaskModal,a=e.currentTaskId;return Object(n.jsx)("div",{className:"modal fade show",style:{display:"block"},id:"taskModal",tabIndex:"-1",role:"dialog","aria-labelledby":"taskModalTitle","aria-hidden":"true",onClick:function(e){!function(e){var a=e.clientX,n=e.clientY,c=document.getElementById("taskModalContent").getBoundingClientRect();0!==a&&0!==n&&(a<c.left||a>c.right||n<c.top||n>c.bottom)&&r(Object(b.a)(Object(b.a)({},t),{},{isDisplay:!1}))}(e)},children:Object(n.jsx)("div",{className:"modal-dialog",role:"document",children:Object(n.jsxs)("div",{className:"modal-content",id:"taskModalContent",children:[Object(n.jsxs)("div",{className:"modal-header",children:[Object(n.jsx)("h5",{className:"modal-title",id:"taskModalTitle",children:"Modal title"}),Object(n.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){r(Object(b.a)(Object(b.a)({},t),{},{isDisplay:!1}))},children:Object(n.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(n.jsx)(Te,{taskModal:t,setTaskModal:r,currentTaskId:a})]})})})},De=function(e){var t=e.taskToolkit,r=e.currentTaskId,a=e.setTaskToolkit,c=e.setTaskModal,s=e.taskModal;return Object(n.jsxs)("span",{className:"menu-toolbar",style:{top:t.top,left:t.left,display:t.isDisplay?"block":"none"},children:[r?Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){a(Object(b.a)(Object(b.a)({},t),{},{isDisplay:!1})),c(Object(b.a)(Object(b.a)({},s),{},{isDisplay:!0,taskModalOption:1}))},children:Object(n.jsx)("i",{className:"fa fa-pencil-square-o reg-icon","aria-hidden":"true"})}):"","\xa0"]})},Fe=function(e){var t=e.UpdateFilter,r=e.tasksFilters,a=function(e){var r=e.target.name,a=e.target.value;t(r,a)};return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)("input",{type:"text",className:"form-control",name:"technicianNameFilter",id:"technicianNameFilter","aria-describedby":"helpId",placeholder:"searching technician",value:r.technicianNameFilter,onChange:function(e){return a(e)}})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{type:"text",className:"form-control",name:"reportTitleFilter",id:"reportTitleFilter","aria-describedby":"helpId",placeholder:"searching title",value:r.reportTitleFilter,onChange:function(e){return a(e)}})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{type:"text",className:"form-control",name:"taskNameFilter",id:"taskNameFilter","aria-describedby":"helpId",placeholder:"searching task",value:r.taskNameFilter,onChange:function(e){return a(e)}})}),Object(n.jsx)("td",{children:Object(n.jsxs)("select",{className:"form-control",name:"statusFilter",id:"statusFilter",value:r.statusFilter,onChange:function(e){return a(e)},children:[Object(n.jsx)("option",{value:-2,children:"all"}),Object(n.jsx)("option",{value:0,children:"solving"}),Object(n.jsx)("option",{value:1,children:"finish"}),Object(n.jsx)("option",{value:-1,children:"denied"})]})}),Object(n.jsx)("td",{})]})},Me=function(){var e,t=Object(O.b)(),r=Object(O.c)(Se),a=Object(O.c)(P),s=Object(O.c)(pe),i=Object(O.c)((function(e){return e.tasks.status})),o=Object(O.c)((function(e){return e.reports.status})),u=Object(O.c)((function(e){return e.employees.status})),d=Object(O.c)((function(e){return e.tasks.error})),p=Object(c.useState)(""),j=Object(l.a)(p,2),f=j[0],h=j[1],x=Object(c.useState)(),N=Object(l.a)(x,2),v=N[0],g=N[1],y=Object(c.useState)(!1),S=Object(l.a)(y,2),k=S[0],w=S[1],C=Object(c.useState)({technicianNameFilter:"",reportTitleFilter:"",taskNameFilter:"",statusFilter:-2}),T=Object(l.a)(C,2),I=T[0],D=T[1],F=Object(c.useState)({technicianNameSorter:0,reportTitleSorter:0,taskNameSorter:0,statusSorter:0,progressSorter:0}),E=Object(l.a)(F,2),_=E[0],R=E[1],q=Object(c.useState)({isDisplay:!1,taskModalOption:0}),A=Object(l.a)(q,2),L=A[0],B=A[1],U=Object(c.useState)({top:0,left:0,isDisplay:!1}),Y=Object(l.a)(U,2),X=Y[0],G=Y[1];Object(c.useEffect)((function(){"idle"===u&&t(M())}),[t,u]),Object(c.useEffect)((function(){"idle"===o&&t(Oe())}),[t,o]),Object(c.useEffect)((function(){"idle"===i&&t(se())}),[t,i]),Object(c.useEffect)((function(){w(!0)}),[s]),"succeeded"===u&&"succeeded"===o&&"succeeded"===i?k&&(g(s.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{technicianName:a.find((function(t){return t._id===e.technician})).name,reportTitle:r.find((function(t){return t._id===e.report})).title})}))),w(!1)):"failed"===u||"failed"===o||"failed"===i?e=Object(n.jsx)("tr",{children:d}):"loading"!==u&&"loading"!==o&&"loading"!==i||(e=Object(n.jsx)("tr",{className:"spinner-border text-primary",style:{width:100,height:100}}));var J=Object.assign([],v);J&&J.length>0&&(I.technicianNameFilter&&(J=J.filter((function(e){return-1!==e.technicianName.toLowerCase().indexOf(I.technicianNameFilter.toLocaleLowerCase())}))),I.reportTitleFilter&&(J=J.filter((function(e){return-1!==e.reportTitle.toLowerCase().indexOf(I.reportTitleFilter.toLocaleLowerCase())}))),I.taskNameFilter&&(J=J.filter((function(e){return-1!==e.taskName.toLowerCase().indexOf(I.taskNameFilter.toLocaleLowerCase())}))),J=J.filter((function(e){return-2===parseInt(I.statusFilter)?e:e.status===parseInt(I.statusFilter)})),0!==_.technicianNameSorter&&(J=J.sort((function(e,t){return e.technicianName===t.technicianName?0:e.technicianName>t.technicianName?_.technicianNameSorter:-_.technicianNameSorter}))),0!==_.reportTitleSorter&&(J=J.sort((function(e,t){return e.reportTitle===t.reportTitle?0:e.reportTitle>t.reportTitle?_.reportTitleSorter:-_.reportTitleSorter}))),0!==_.taskNameSorter&&(J=J.sort((function(e,t){return e.taskName===t.taskName?0:e.taskName>t.taskName?_.taskNameSorter:-_.taskNameSorter}))),0!==_.statusSorter&&(J=J.sort((function(e,t){return e.status===t.status?0:e.status>t.status?_.statusSorter:-_.statusSorter}))),0!==_.progressSorter&&(J=J.sort((function(e,t){return e.progress===t.progress?0:e.progress>t.progress?_.progressSorter:-_.progressSorter}))),J&&(e=J.map((function(e){return Object(n.jsx)(Ce,{task:e,setCurrentTaskId:h},e._id)}))));var z=function(e,t){R(Object(m.a)({technicianNameSorter:0,reportTitleSorter:0,taskNameSorter:0,statusSorter:0,progressSorter:0},e,t))};return Object(n.jsxs)("div",{className:L.isDisplay?"modal-open container-fluid":"container-fluid",children:[L.isDisplay?Object(n.jsx)(Ie,{setTaskModal:B,taskModal:L,currentTaskId:f}):"",X.isDisplay?Object(n.jsx)(De,{taskToolkit:X,setTaskToolkit:G,setTaskModal:B,currentTaskId:f}):"",Object(n.jsx)("h3",{className:"text-center",children:"Tasks Management"}),Object(n.jsx)("div",{className:"row justify-content-center",children:Object(n.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-11",children:Object(n.jsxs)("table",{className:"table table-bordered table-hover",children:[Object(n.jsxs)("thead",{className:"thead-dark",children:[Object(n.jsxs)("tr",{children:[Object(n.jsx)(H,{title:"Technician",sortName:"technicianNameSorter",setSortOrder:z,sortOrder:_.technicianNameSorter}),Object(n.jsx)(H,{title:"Report",sortName:"reportTitleSorter",setSortOrder:z,sortOrder:_.reportTitleSorter}),Object(n.jsx)(H,{title:"Task",sortName:"taskNameSorter",setSortOrder:z,sortOrder:_.taskNameSorter}),Object(n.jsx)(H,{title:"Task Status",sortName:"statusSorter",setSortOrder:z,sortOrder:_.statusSorter}),Object(n.jsx)(H,{title:"Task Progress",sortName:"progressSorter",setSortOrder:z,sortOrder:_.progressSorter})]}),Object(n.jsx)(Fe,{UpdateFilter:function(e,t){D(Object(b.a)(Object(b.a)({},I),{},Object(m.a)({},e,t)))},tasksFilters:I})]}),Object(n.jsx)("tbody",{onMouseMove:function(e){X.isDisplay&&G(Object(b.a)(Object(b.a)({},X),{},{isDisplay:!1}))},onContextMenu:function(e){return function(e){e.preventDefault(),G({left:e.clientX,top:e.clientY-35,isDisplay:!0})}(e)},children:e})]})})})]})},Ee=(r(31),function(e){var t=e.displayModal,r=e.onNext,a=e.setReport,s=e.currentReportId,i=e.setCurrentReportId,o=e.numberOfTasks,u=e.setNumberOfTasks,d=Object(O.c)(P),p=Object(O.c)(te),j=Object(O.c)(Se),m=Object(O.c)((function(e){return ke(e,s)?ke(e,s):j[0]})),f=Object(O.c)((function(e){return B(e,m.employee)})),h=Object(O.c)((function(e){return re(e,m.device)})),x=Object(c.useState)(Object(b.a)(Object(b.a)({},m),{},{severity:3})),N=Object(l.a)(x,2),v=N[0],g=N[1],y=d.filter((function(e){return"technician"!==e.position&&j.find((function(t){return t.employee===e._id}))})).map((function(e){return Object(n.jsx)("option",{value:e._id,children:e.name},e._id)})),S=p.filter((function(e){return e.employee===m.employee})).map((function(e){return Object(n.jsx)("option",{value:e._id,children:e.deviceName},e._id)})),k=j.filter((function(e){return e.employee===f._id&&e.device===h._id})).map((function(e){return Object(n.jsx)("option",{value:e._id,children:e.title},e._id)})),w=function(e){var t=e.target.name,r=e.target.value;if("currentEmployee"===t){var a=j.find((function(e){return e.employee===r}));i(a?a._id:s)}if("currentDevice"===t){var n=j.find((function(e){return e.device===r}));i(n?n._id:s)}if("title"===t){var c=j.find((function(e){return e._id===r}));i(c?c._id:s)}};return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"modal-body",children:[Object(n.jsxs)("div",{className:"input-group flex-nowrap mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:"Employee Name"})}),Object(n.jsx)("select",{name:"currentEmployee",id:"input",className:"form-control",required:"required",value:f._id,onChange:function(e){return w(e)},children:y}),Object(n.jsx)("div",{className:"input-group-append "})]}),Object(n.jsxs)("div",{className:"input-group flex-nowrap mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:"Device"})}),Object(n.jsx)("select",{name:"currentDevice",id:"input",className:"form-control",required:"required",value:h._id,onChange:function(e){return w(e)},children:S}),Object(n.jsx)("div",{className:"input-group-append "})]}),Object(n.jsxs)("div",{className:"input-group flex-nowrap mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:"title"})}),Object(n.jsx)("select",{name:"title",id:"input",className:"form-control",required:"required",value:s,onChange:function(e){return w(e)},children:k}),Object(n.jsx)("div",{className:"input-group-append "})]}),Object(n.jsxs)("div",{className:"input-group flex-nowrap mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:"Report Date"})}),Object(n.jsx)("input",{type:"text",name:"reportDate",id:"reportDate",className:"form-control",value:void 0===m.reportDate?"":m.reportDate.toString(),readOnly:"readOnly"})]}),Object(n.jsxs)("div",{className:"input-group flex-nowrap mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:"detail"})}),Object(n.jsx)("textarea",{type:"text",name:"detail",id:"detail",className:"form-control",rows:"4",value:m.detail,readOnly:"readOnly"}),Object(n.jsx)("div",{className:"input-group-append "})]}),Object(n.jsxs)("div",{className:"input-group flex-nowrap mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:"Severity"})}),Object(n.jsxs)("select",{name:"severity",className:"form-control",required:"required",value:v.severity,onChange:function(e){return g(Object(b.a)(Object(b.a)({},v),{},{severity:e.target.value}))},children:[Object(n.jsx)("option",{value:1,children:"Emergency"}),Object(n.jsx)("option",{value:2,children:"Serious"}),Object(n.jsx)("option",{value:3,children:"not Serious"})]}),Object(n.jsx)("div",{className:"input-group-append "})]}),Object(n.jsxs)("div",{className:"input-group flex-nowrap mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:"Numof Tasks"})}),Object(n.jsx)("input",{type:"number",name:"numberOfTask",className:"form-control",value:o,onChange:function(e){return u(e.target.value)},min:1,max:10,step:1,required:"required",title:""}),Object(n.jsx)("div",{className:"input-group-append "})]})]}),Object(n.jsxs)("div",{className:"modal-footer",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:function(){return t(!1,0)},children:"Close"}),"\xa0",Object(n.jsxs)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",onClick:function(){a(v),r()},children:["Next \xa0 ",Object(n.jsx)("i",{className:"fa fa-chevron-right","aria-hidden":"true"})]})]})]})}),_e=r(35),Re=function(e){var t=e.displayModal,r=e.onPrevious,a=e.setTasks,s=e.onNext,i=e.numberOfTasks,o=e.currentReportId,u=Object(O.c)(P).filter((function(e){return"technician"===e.position})),d=Object(c.useState)("all"),p=Object(l.a)(d,2),j=p[0],m=p[1],f=Object(c.useState)(u),h=Object(l.a)(f,2),x=h[0],N=h[1],v=Object(c.useState)(x[0]),g=Object(l.a)(v,2),y=g[0],S=g[1],k=Object(c.useState)({report:o,taskName:"",detail:""}),w=Object(l.a)(k,2),C=w[0],T=w[1],I=Object(c.useState)([]),D=Object(l.a)(I,2),F=D[0],M=D[1],E=Object(c.useState)(!1),_=Object(l.a)(E,2),R=_[0],q=_[1],A=x.map((function(e){return Object(n.jsx)("option",{value:e.name,children:e.name},e._id)})),L=Object(c.useState)(0),B=Object(l.a)(L,2),U=B[0],Y=B[1];Object(c.useEffect)((function(){""===C.taskName?q(!1):q(!0)}),[C]),Object(c.useEffect)((function(){if("all"===j)N(u);else{var e=u.filter((function(e){return e.technique===j}));e&&e.length>0?N(e):m("all")}}),[j]),Object(c.useEffect)((function(){S(x[0])}),[x]);var X=F.map((function(e){return Object(n.jsxs)("tr",{className:"d-flex",children:[Object(n.jsx)("td",{className:"col-6",children:e.technicianName}),Object(n.jsx)("td",{className:"col-5",children:e.taskName}),Object(n.jsx)("td",{className:"col-1",id:"remove-task-icon",children:Object(n.jsx)("i",{className:"fa fa-times-circle-o","aria-hidden":"true",onClick:function(){return t=e.taskName,void(U>0&&(M(F.filter((function(e){return e.taskName!==t}))),Y(U-1)));var t}})})]},e.taskName)}));return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"modal-body",children:[Object(n.jsxs)("div",{className:"input-group flex-nowrap mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:"Technician"})}),Object(n.jsx)("select",{name:"technician",id:"input",className:"form-control",required:"required",value:y.name,onChange:function(e){var t;t=e.target.value,S(u.find((function(e){return e.name===t})))},children:A})]}),Object(n.jsxs)("div",{className:"input-group flex-nowrap mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:"Technique"})}),Object(n.jsxs)("select",{className:"form-control",name:"technique",id:"position",value:j,onChange:function(e){e.target.value!==j&&m(e.target.value)},children:[Object(n.jsx)("option",{value:"all",children:"All"}),Object(n.jsx)("option",{value:"hardware",children:"Hardware"}),Object(n.jsx)("option",{value:"software",children:"Software"}),Object(n.jsx)("option",{value:"network",children:"Network"})]})]}),Object(n.jsxs)("div",{className:"input-group flex=nowrap mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:"Task Name"})}),Object(n.jsx)("input",{type:"text",name:"taskName",id:"input",className:"form-control",required:"required",value:C.taskName,onChange:function(e){return T(Object(b.a)(Object(b.a)({},C),{},{taskName:e.target.value}))}})]}),Object(n.jsxs)("div",{className:"input-group flex=nowrap mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:"Detail"})}),Object(n.jsx)("textarea",{type:"text",name:"taskDetail",id:"input",className:"form-control",required:"required",rows:4,value:C.detail,onChange:function(e){return T(Object(b.a)(Object(b.a)({},C),{},{detail:e.target.value}))}})]}),0===U?"":Object(n.jsxs)("table",{className:"table table-bordered table-hover assign-table",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{className:"d-flex",children:[Object(n.jsx)("th",{className:"col-6",children:"Technician"}),Object(n.jsx)("th",{className:"col-5",children:"Task"}),Object(n.jsx)("th",{className:"col-1"})]})}),Object(n.jsx)("tbody",{className:"overflow-auto",children:X})]}),Object(n.jsx)("div",{className:"progress",children:Object(n.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:"".concat(100*parseFloat(U/i),"%")},"aria-valuenow":100*parseFloat(U/i),"aria-valuemin":"0","aria-valuemax":"100"})})]}),Object(n.jsxs)("div",{className:"modal-footer",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:function(){return t(!1,0)},children:"Close"}),"\xa0",Object(n.jsxs)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",onClick:r,children:[Object(n.jsx)("i",{className:"fa fa-chevron-left","aria-hidden":"true"})," \xa0 Previous"]}),Object(n.jsxs)("button",{type:"button",className:U<i?"btn btn-warning":"btn btn-primary","data-dismiss":"modal",onClick:U<i?function(){U<i&&(M([].concat(Object(_e.a)(F),[Object(b.a)(Object(b.a)({},C),{},{technicianId:y._id,technicianName:y.name})])),Y(U+1))}:function(){a(F),s()},disabled:!R,children:[U<i?"Assign":"Next","\xa0",U<i?Object(n.jsx)("i",{className:"fa fa-check-square-o","aria-hidden":"true"}):Object(n.jsx)("i",{className:"fa fa-chevron-right","aria-hidden":"true"})]})]})]})},qe=function(e){var t=e.displayModal,r=e.onSave,a=e.employeeId,c=e.reportId,s=e.tasks,i=e.loadingStatus,o=Object(O.c)((function(e){return ke(e,c)})),l=Object(O.c)((function(e){return B(e,a)})).name,u=s.map((function(e){return Object(n.jsxs)("tr",{className:"d-flex",children:[Object(n.jsx)("td",{className:"col-6",children:e.technicianName}),Object(n.jsx)("td",{className:"col-6",children:e.taskName})]},e.taskName)}));return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"modal-body",children:[Object(n.jsxs)("div",{className:"input-group flex-nowrap mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:"Employee Name"})}),Object(n.jsx)("input",{name:"currentEmployee",id:"input",className:"form-control",required:"required",readOnly:"readOnly",value:l}),Object(n.jsx)("div",{className:"input-group-append "})]}),Object(n.jsxs)("div",{className:"input-group flex-nowrap mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:"Report Title"})}),Object(n.jsx)("input",{name:"currentEmployee",id:"input",className:"form-control",required:"required",readOnly:"readOnly",value:o.title}),Object(n.jsx)("div",{className:"input-group-append "})]}),Object(n.jsxs)("table",{className:"table table-bordered table-hover",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{className:"d-flex",children:[Object(n.jsx)("th",{className:"col-6",children:"Technician"}),Object(n.jsx)("th",{className:"col-6",children:"Task"})]})}),Object(n.jsx)("tbody",{className:"overflow-auto",style:{height:"auto"},children:u})]})]}),Object(n.jsxs)("div",{className:"modal-footer",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:function(){return t(!1,0)},children:"Close"}),"\xa0",Object(n.jsxs)("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",onClick:r,children:[i?Object(n.jsx)("i",{className:"fa fa-circle-o-notch fa-spin"}):"","\xa0Save"]})]})]})},Ae=function(e){var t,r=e.currentReportId,a=e.setCurrentReportId,s=e.displayModal,i=Object(c.useState)(1),o=Object(l.a)(i,2),u=o[0],d=o[1],p=Object(c.useState)(!1),j=Object(l.a)(p,2),m=j[0],f=j[1],h=Object(c.useState)(0),x=Object(l.a)(h,2),N=x[0],v=x[1],g=Object(c.useState)(),y=Object(l.a)(g,2),S=y[0],k=y[1],w=Object(c.useState)(),C=Object(l.a)(w,2),T=C[0],I=C[1],D=Object(O.b)(),F=function(){N<=2&&v(N+1)},M=function(){N>=1&&v(N-1)};return 0===N?t=Object(n.jsx)(Ee,{displayModal:s,onNext:F,onPrevious:M,setCurrentReportId:a,setNumberOfTasks:d,numberOfTasks:u,currentReportId:r,setReport:I}):1===N?t=Object(n.jsx)(Re,{numberOfTasks:u,displayModal:s,onNext:F,onPrevious:M,setTasks:k,currentReportId:r,tasks:S}):2===N&&(t=Object(n.jsx)(qe,{employeeId:T.employee,reportId:T._id,tasks:S,displayModal:s,onSave:function(){f(!0),D(Ne(Object(b.a)(Object(b.a)({},T),{},{_id:T._id,status:1}))).then((function(){S.forEach((function(e){D(ie({report:e.report,taskName:e.taskName,technician:e.technicianId,detail:e.detail,status:0,progress:0}))})),f(!1),s(!1,0),D(Oe())})).catch((function(e){return alert(e)}))},loadingStatus:m})),Object(n.jsx)("div",{children:t})},Le=function(e){var t=e.currentReportId,r=e.modalOption,a=e.displayModal,c=e.setCurrentReportId;return Object(n.jsx)("div",{className:"modal fade show",style:{display:"block"},id:"taskModal",tabIndex:"-1",role:"dialog","aria-labelledby":"taskModalTitle","aria-hidden":"true",onClick:function(e){!function(e){var t=e.clientX,r=e.clientY,n=document.getElementById("taskModalContent").getBoundingClientRect();0===t||0===r||(t<n.left||t>n.right||r<n.top||r>n.bottom)&&a(!1,1)}(e)},children:Object(n.jsx)("div",{className:"modal-dialog",role:"document",children:Object(n.jsxs)("div",{className:"modal-content",id:"taskModalContent",children:[Object(n.jsxs)("div",{className:"modal-header",children:[Object(n.jsx)("h5",{className:"modal-title",id:"taskModalTitle",children:0===r?"Add New Report":"Analyze Report"}),Object(n.jsx)("button",{type:"button",className:"close","data-":!0,dismiss:"modal","aria-label":"Close",onClick:function(){return a(!1,0)},children:Object(n.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),1===r?Object(n.jsx)(Ae,{currentReportId:t,displayModal:a,setCurrentReportId:c}):""]})})})},Pe=function(e){var t,r=e.report,a=e.setCurrentReport,c=Object(O.c)((function(e){return B(e,r.employee)?B(e,r.employee):{name:""}})).name,s=Object(O.c)((function(e){return re(e,r.device)?re(e,r.device):{deviceName:""}})).deviceName;return Object(n.jsxs)("tr",{onContextMenu:function(e){return function(e){e.preventDefault(),a(r._id)}(e)},children:[Object(n.jsx)("td",{children:c}),Object(n.jsx)("td",{children:s}),Object(n.jsx)("td",{children:r.title}),Object(n.jsx)("td",{children:r.reportDate?r.reportDate.toString():""}),Object(n.jsx)("td",{children:(t=r.status,0===t?Object(n.jsx)("span",{className:"badge badge-pill badge-danger",children:"New"}):1===t?Object(n.jsx)("span",{className:"badge badge-pill badge-primary",children:"Solving"}):2===t?Object(n.jsx)("span",{className:"badge badge-pill badge-success",children:"Solved"}):void 0)})]})},Be=function(e){var t=e.updateReportFilters,r=e.filters,a=function(e){var r=e.target.name,a=e.target.value;t(r,a)};return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)("input",{type:"text",className:"form-control",name:"employeeNameFilter",id:"employeeNameFilter",placeholder:"searching id",value:r.employeeNameFilter,onChange:function(e){return a(e)}})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{type:"text",className:"form-control",name:"deviceNameFilter",id:"deviceNameFilter",placeholder:"searching device",value:r.deviceNameFilter,onChange:function(e){return a(e)}})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{type:"text",className:"form-control",name:"reportTitleFilter",id:"reportTitleFilter",placeholder:"searching title",value:r.reportTitleFilter,onChange:function(e){return a(e)}})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{type:"text",className:"form-control",name:"reportDateFilter",id:"reportDateFilter",placeholder:"searching date",value:r.reportDateFilter,onChange:function(e){return a(e)}})}),Object(n.jsx)("td",{children:Object(n.jsxs)("select",{className:"form-control",name:"reportStatusFilter",id:"reportStatusFilter",value:r.reportStatusFilter,onChange:function(e){return a(e)},children:[Object(n.jsx)("option",{value:-1,children:"all"}),Object(n.jsx)("option",{value:0,children:"new"}),Object(n.jsx)("option",{value:1,children:"solving"}),Object(n.jsx)("option",{value:2,children:"solved"})]})})]})},Ue=function(e){var t=e.displayToolbar,r=e.displayModal,a=e.currentReportId,c=e.toolbar,s=Object(O.b)(),i=c.top,o=c.left,l=c.isDisplay;return Object(n.jsxs)("span",{className:"menu-toolbar",style:{top:i,left:o,display:l?"block":"none"},children:[a?Object(n.jsx)("button",{type:"button",className:"btn btn-success",onClick:function(){t(!1),r(!0,1)},children:Object(n.jsx)("i",{className:"fa fa-pencil-square-o reg-icon","aria-hidden":"true"})}):"","\xa0",a?Object(n.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){xe(a).then((function(e){0===e?s(fe(a)):alert("cannot delete Report")})).catch((function(e){return alert(e)})),t(!1)},children:Object(n.jsx)("i",{className:"fa fa-trash reg-icon","aria-hidden":"true"})}):""]})},Ye=function(){var e,t=Object(O.c)((function(e){return e.reports.status})),r=Object(O.c)((function(e){return e.devices.status})),a=Object(O.c)((function(e){return e.employees.status})),s=Object(O.c)(P),i=Object(O.c)(te),o=Object(O.c)((function(e){return e.reports.error})),u=Object(O.b)(),d=Object(c.useState)(),p=Object(l.a)(d,2),j=p[0],f=p[1],h=Object(c.useState)(!1),x=Object(l.a)(h,2),N=x[0],v=x[1];Object(c.useEffect)((function(){"idle"===r&&u(Q())}),[r,u]),Object(c.useEffect)((function(){"idle"===a&&u(M())}),[u,a]),Object(c.useEffect)((function(){"idle"===t&&u(Oe())}),[u,t]);var g=Object(O.c)(Se),y=Object(c.useState)({employeeNameFilter:"",deviceNameFilter:"",reportTitleFilter:"",reportDateFilter:"",reportStatusFilter:-1}),S=Object(l.a)(y,2),k=S[0],w=S[1],C=Object(c.useState)({employeeNameSorter:0,deviceNameSorter:0,reportTitleSorter:0,reportDateSorter:0,reportStatusSorter:0}),T=Object(l.a)(C,2),I=T[0],D=T[1],F=function(e,t){D(Object(m.a)({employeeNameSorter:0,deviceNameSorter:0,reportTitleSorter:0,reportDateSorter:0,reportStatusSorter:0},e,t)),console.log(I)},E=Object(c.useState)({top:0,left:0,isDisplay:!1,toolbarOption:0}),_=Object(l.a)(E,2),R=_[0],q=_[1],A=Object(c.useState)({isModalDisplayed:!1,modalOption:1,currentReportId:""}),L=Object(l.a)(A,2),B=L[0],U=L[1];Object(c.useEffect)((function(){v(!0)}),[g]),"succeeded"===a&&"succeeded"===r&&"succeeded"===t?N&&(f(g.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{employeeName:s.find((function(t){return t._id===e.employee})).name,deviceName:i.find((function(t){return t._id===e.device})).deviceName})}))),v(!1)):"failed"===a||"failed"===r||"failed"===t?e=Object(n.jsx)("div",{children:o}):"loading"!==a&&"loading"!==r&&"loading"!==t||(e=Object(n.jsx)("div",{className:"spinner-border",role:"status",children:Object(n.jsx)("span",{className:"sr-only",children:"Loading..."})}));var Y=Object.assign([],j);Y.length>0&&(k.employeeNameFilter&&(Y=Y.filter((function(e){return-1!==e.employeeName.toLowerCase().indexOf(k.employeeNameFilter.toLowerCase())}))),k.deviceNameFilter&&(Y=Y.filter((function(e){return-1!==e.deviceName.toLowerCase().indexOf(k.deviceNameFilter.toLowerCase())}))),k.reportTitleFilter&&(Y=Y.filter((function(e){return-1!==e.title.toLowerCase().indexOf(k.reportTitleFilter.toLowerCase())}))),k.reportDateFilter&&(Y=Y.filter((function(e){return-1!==e.reportDate.toString().indexOf(k.reportDateFilter.toLowerCase())}))),-1!==parseInt(k.reportStatusFilter)&&(Y=Y.filter((function(e){return e.status===parseInt(k.reportStatusFilter)}))),0!==I.employeeNameSorter&&(Y=Y.sort((function(e,t){return e.employeeName===t.employeeName?0:e.employeeName>t.employeeName?I.employeeNameSorter:-I.employeeNameSorter}))),0!==I.deviceNameSorter&&(Y=Y.sort((function(e,t){return e.deviceName===t.deviceName?0:e.deviceName>t.deviceName?I.deviceNameSorter:-I.deviceNameSorter}))),0!==I.reportTitleSorter&&(Y=Y.sort((function(e,t){return e.title===t.title?0:e.title>t.title?I.reportTitleSorter:-I.reportTitleSorter}))),0!==I.reportDateSorter&&(Y=Y.sort((function(e,t){return 0===e.reportDate.localeCompare(t.reportDate)?0:e.reportDate.localeCompare(t.reportDate)>0?I.reportDateSorter:-I.reportDateSorter}))),0!==I.reportStatusSorter&&(Y=Y.sort((function(e,t){return e.status===t.status?0:e.status>t.status?I.reportStatusSorter:-I.reportStatusSorter}))));var X=function(e){U(Object(b.a)(Object(b.a)({},B),{},{currentReportId:e}))},G=function(e,t){U(Object(b.a)(Object(b.a)({},B),{},{isModalDisplayed:e,modalOption:t}))};return Y.length>0&&(e=Y.map((function(e){return Object(n.jsx)(Pe,{report:e,setCurrentReport:X},e._id)}))),Object(n.jsxs)("div",{className:B.isModalDisplayed?"modal-open container-fluid":"container-fluid",children:[R.isDisplay?Object(n.jsx)(Ue,{toolbar:R,displayToolbar:function(e){q(Object(b.a)(Object(b.a)({},R),{},{isDisplay:e}))},displayModal:G,currentReportId:B.currentReportId}):"",B.isModalDisplayed?Object(n.jsx)(Le,{currentReportId:B.currentReportId,displayModal:G,modalOption:B.modalOption,setCurrentReportId:X}):"",Object(n.jsx)("h3",{className:"text-center",children:"Report Management"}),Object(n.jsx)("div",{className:"row justify-content-center",children:Object(n.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-11",children:Object(n.jsxs)("table",{className:"table table-bordered table-hover",children:[Object(n.jsxs)("thead",{className:"thead-dark",children:[Object(n.jsxs)("tr",{children:[Object(n.jsx)(H,{title:"Employee Name",sortName:"employeeNameSorter",sortOrder:I.employeeNameSorter,setSortOrder:F}),Object(n.jsx)(H,{title:"Device Name",sortName:"deviceNameSorter",sortOrder:I.deviceNameSorter,setSortOrder:F}),Object(n.jsx)(H,{title:"Title",sortName:"reportTitleSorter",sortOrder:I.reportTitleSorter,setSortOrder:F}),Object(n.jsx)(H,{title:"Report Date",sortName:"reportDateSorter",sortOrder:I.reportDateSorter,setSortOrder:F}),Object(n.jsx)(H,{title:"Report Date",sortName:"reportStatusSorter",sortOrder:I.reportStatusSorter,setSortOrder:F})]}),Object(n.jsx)(Be,{updateReportFilters:function(e,t){w(Object(b.a)(Object(b.a)({},k),{},Object(m.a)({},e,t)))},filters:k})]}),Object(n.jsx)("tbody",{onMouseMove:function(e){!0===R.isDisplay&&q(Object(b.a)(Object(b.a)({},R),{},{isDisplay:!1}))},onContextMenu:function(e){return function(e){e.preventDefault(),q(Object(b.a)(Object(b.a)({},R),{},{isDisplay:!0,top:e.clientY-35,left:e.clientX}))}(e)},children:e})]})})})]})},Xe=Object(g.createAsyncThunk)("user/fetchUser",function(){var e=Object(v.a)(N.a.mark((function e(t){var r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("api/employees/".concat(t));case 2:return r=e.sent,e.abrupt("return",r.employee);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ge=Object(g.createAsyncThunk)("user/updateUser",function(){var e=Object(v.a)(N.a.mark((function e(t){var r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.put("api/employees/".concat(t._id),{employee:t});case 2:return r=e.sent,e.abrupt("return",r.employee);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),He=Object(g.createSlice)({name:"user",initialState:{user:{},status:"idle",error:null},reducers:{userUpdated:function(e,t){return t.payload}},extraReducers:(D={},Object(m.a)(D,Xe.fulfilled,(function(e,t){e.user=t.payload,e.status="succeeded"})),Object(m.a)(D,Xe.pending,(function(e,t){e.status="loading"})),Object(m.a)(D,Xe.rejected,(function(e,t){e.status="failed"})),Object(m.a)(D,Ge.fulfilled,(function(e,t){e.user=t.payload})),D)}),Je=(He.actions.userUpdated,function(e){return e.user.user}),ze=He.reducer,We=(r(32),document.cookie.split(";").map((function(e){return e.split("=")})).reduce((function(e,t){var r=Object(l.a)(t,2),a=r[0],n=r[1];return Object(b.a)(Object(b.a)({},e),{},Object(m.a)({},a.trim(),decodeURIComponent(n)))}),{})),Ze=function(e){var t=Object(O.c)(Je),r=Object(O.c)((function(e){return e.user.status})),a=Object(c.useState)(-1),s=Object(l.a)(a,2),i=s[0],o=s[1],u=Object(c.useState)({_id:"",name:"",address:"",email:"",phoneNumber:"",birthDate:"",position:""}),d=Object(l.a)(u,2),p=d[0],j=d[1],f=Object(c.useState)(!1),h=Object(l.a)(f,2),x=h[0],N=h[1],v=Object(c.useState)({nameInputStatus:!0,addressInputStatus:!0,phoneNumberInputStatus:!0,emailInputStatus:!0,birthDateInputState:!0}),g=Object(l.a)(v,2),y=g[0],S=g[1],k=Object(c.useState)(!0),w=Object(l.a)(k,2),C=w[0],T=w[1],I=Object(O.b)();Object(c.useEffect)((function(){"idle"===r&&I(Xe(We.loadingToken)),"succeeded"===r&&(j(t),o(0))}),[I,t,r]),Object(c.useEffect)((function(){0!==p.email.localeCompare(t.email)&&0===i&&o(1)}),[p.email]);var D=function(){S({nameInputStatus:!0,addressInputStatus:!0,phoneNumberInputStatus:!0,emailInputStatus:!0,birthDateInputState:!0})},F=function(e){var t=e.target.name,r=e.target.value;"birthDate"===t&&j(Object(b.a)(Object(b.a)({},p),{},{birthDate:r.toLocaleString()})),j(Object(b.a)(Object(b.a)({},p),{},Object(m.a)({},t,r)))};return Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("div",{className:"card-header",children:"Your usermation"}),Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsxs)("div",{className:"input-group flex-nowrap mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",id:"addon-wrapping",children:"ID"})}),Object(n.jsx)("input",{type:"text",className:"form-control",id:"_id",name:"_id",readOnly:!0,value:p._id,"aria-label":"ID"})]}),Object(n.jsxs)("div",{className:"input-group flex-nowrap mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:"Name"})}),Object(n.jsx)("input",{type:"text",className:"form-control","aria-label":"Name",id:"name",name:"name",readOnly:y.nameInputStatus,onDoubleClick:function(){S(Object(b.a)(Object(b.a)({},y),{},{nameInputStatus:!y.nameInputStatus}))},value:p.name,onChange:function(e){return F(e)}}),Object(n.jsx)("div",{className:"input-group-appennd",children:Object(n.jsx)("i",{className:"fa fa-pencil  input-group-text reg-icon","aria-hidden":"true",onClick:function(){S(Object(b.a)(Object(b.a)({},y),{},{nameInputStatus:!y.nameInputStatus}))}})})]}),Object(n.jsxs)("div",{className:"input-group flex-nowrap mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("label",{className:"input-group-text",children:"Adress"})}),Object(n.jsx)("input",{type:"text",className:"form-control ",id:"address",name:"address",readOnly:y.addressInputStatus,onDoubleClick:function(){return S(Object(b.a)(Object(b.a)({},y),{},{addressInputStatus:!y.addressInputStatus}))},value:p.address,onChange:function(e){return F(e)}}),Object(n.jsx)("div",{className:"input-group-appennd",children:Object(n.jsx)("i",{className:"fa fa-pencil input-group-text reg-icon","aria-hidden":"true",onClick:function(){S(Object(b.a)(Object(b.a)({},y),{},{addressInputStatus:!y.addressInputStatus}))}})})]}),Object(n.jsxs)("div",{className:"input-group mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("label",{className:"input-group-text",children:"Phone"})}),Object(n.jsx)("input",{type:"text",className:"form-control ",id:"phoneNumber",name:"phoneNumber",readOnly:y.phoneNumberInputStatus,onDoubleClick:function(){return S(Object(b.a)(Object(b.a)({},y),{},{phoneNumberInputStatus:!y.phoneNumberInputStatus}))},value:p.phoneNumber,onChange:function(e){return F(e)}}),Object(n.jsx)("div",{className:"input-group-append",children:Object(n.jsx)("i",{className:"fa fa-pencil input-group-text reg-icon","aria-hidden":"true",onClick:function(){S(Object(b.a)(Object(b.a)({},y),{},{phoneNumberInputStatus:!y.phoneNumberInputStatus}))}})})]}),Object(n.jsxs)("div",{className:"input-group mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("label",{className:"input-group-text",children:"Email"})}),Object(n.jsx)("input",{type:"text",className:"form-control ",id:"email",name:"email",readOnly:y.emailInputStatus,onDoubleClick:function(){return S(Object(b.a)(Object(b.a)({},y),{},{emailInputStatus:!y.emailInputStatus}))},value:p.email,onChange:function(e){return F(e)}}),Object(n.jsx)("div",{className:"input-group-append",children:Object(n.jsx)("i",{className:"fa fa-pencil input-group-text reg-icon","aria-hidden":"true",onClick:function(){return S(Object(b.a)(Object(b.a)({},y),{},{emailInputStatus:!y.emailInputStatus}))}})})]}),Object(n.jsxs)("div",{className:"input-group mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("label",{className:"input-group-text",children:"BirthDate:"})}),Object(n.jsx)("input",{type:"date",className:"form-control ",id:"birthDate",name:"birthDate",readOnly:"readOnly",onDoubleClick:function(){S(Object(b.a)(Object(b.a)({},y),{},{birthDateInputState:!y.birthDateInputState}))},value:void 0!==p.birthDate?p.birthDate.substring(0,p.birthDate.indexOf("T")):"",onChange:function(e){return F(e)}})]}),Object(n.jsxs)("div",{className:"input-group mb-2",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("label",{className:"input-group-text",children:"Position"})}),Object(n.jsx)("input",{type:"text",className:"form-control ",id:"position",name:"position",readOnly:!0,value:p.position})]})]}),Object(n.jsxs)("div",{className:"card-footer text-muted",children:[Object(n.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:function(){N(!0),i?R(p.email).then((function(e){"invalid_email"===e?(N(!1),T(!1),o(0),j(Object(b.a)(Object(b.a)({},p),{},{email:t.email}))):"valid_email"===e&&I(Ge(p)).then((function(){N(!1),T(!0),o(0)}))})).catch((function(e){alert(e),T(!1),o(0),j(Object(b.a)(Object(b.a)({},p),{},{email:t.email}))})):I(Ge(p)).then((function(){N(!1)})).catch((function(e){return alert(e)})),D()},children:[x?Object(n.jsx)("i",{className:"fa fa-circle-o-notch fa-spin"}):"","\xa0Save"]}),"\xa0",Object(n.jsx)("button",{type:"button",className:"btn btn-warning",onClick:function(){j(t),D(),T(!0)},children:"Cancel"}),"\xa0",C?"":Object(n.jsx)("i",{className:"fa fa-exclamation-triangle",style:{color:"red"},children:" Invalid Email"})]})]})},$e=function(){return Object(n.jsxs)("div",{className:"container-fluid",children:[Object(n.jsx)("h3",{className:"text-center",children:"Private Information"}),Object(n.jsx)("div",{className:"row   justify-content-center mt-50",children:Object(n.jsx)("div",{className:"col-xs-12 col-sm-10 col-md-8 col-lg-6",children:Object(n.jsx)(Ze,{})})})]})};var Ke=function(){return Object(n.jsxs)(u.a,{children:[Object(n.jsx)(p,{}),Object(n.jsx)("div",{className:"App ",children:Object(n.jsxs)(j.d,{children:[Object(n.jsx)(j.b,{exact:!0,path:"/management"}),Object(n.jsx)(j.b,{exact:!0,path:"/management/user",component:$e}),Object(n.jsx)(j.b,{exact:!0,path:"/management/employees",component:ne}),Object(n.jsx)(j.b,{exact:!0,path:"/management/tasks",component:Me}),Object(n.jsx)(j.b,{exact:!0,path:"/management/reports",component:Ye}),Object(n.jsx)(j.a,{to:"/management"})]})})]})},Qe=Object(g.configureStore)({reducer:{employees:U,user:ze,reports:we,devices:ae,tasks:be}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(O.a,{store:Qe,children:Object(n.jsx)(Ke,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[49,1,2]]]);
//# sourceMappingURL=main.9669555e.chunk.js.map